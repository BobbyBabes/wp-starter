!function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(r.childNodes[1])}return t&&e.extend(n,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&t.push(n.customSelector);var i=".fitvidsignore";n.ignore&&(i=i+", "+n.ignore);var r=e(this).find(t.join(","));r=r.not("object object"),r=r.not(i),r.each(function(t){var n=e(this);if(!(n.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&n.parent("object").length||n.parent(".fluid-width-video-wrapper").length)){n.css("height")||n.css("width")||!isNaN(n.attr("height"))&&!isNaN(n.attr("width"))||(n.attr("height",9),n.attr("width",16));var r="object"===this.tagName.toLowerCase()||n.attr("height")&&!isNaN(parseInt(n.attr("height"),10))?parseInt(n.attr("height"),10):n.height(),a=isNaN(parseInt(n.attr("width"),10))?n.width():parseInt(n.attr("width"),10),s=r/a;if(!n.attr("id")){var o="fitvid"+t;n.attr("id",o)}n.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*s+"%"),n.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var r,a=i.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp keyup",u="",c="vertical"===i.vars.direction,f=i.vars.reverse,d=i.vars.itemWidth>0,p="fade"===i.vars.animation,h=""!==i.vars.asNavFor,g={};e.data(t,"flexslider",i),g={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=c?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!p&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),""!==i.vars.customDirectionNav&&(i.customDirectionNav=2===e(i.vars.customDirectionNav).length&&e(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&g.controlNav.setup(),i.vars.directionNav&&g.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t&&i.getTarget("prev");i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t,n,r){e.preventDefault();var a=i.getTarget(0>t?"next":"prev");i.flexAnimate(a,i.vars.pauseOnAction)}),i.vars.pausePlay&&g.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&g.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),h&&g.asNav.setup(),o&&i.vars.touch&&g.touch(),(!p||p&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",g.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(a+"active-slide").eq(i.currentItem).addClass(a+"active-slide"),s?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),r=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(t){t.preventDefault();var n=e(this),r=n.index();0>=n.offset().left-e(i).scrollLeft()&&n.hasClass(a+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(a+"active-slide")||(i.direction=i.currentItem<r?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,n,r="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",s=1;if(i.controlNavScaffold=e('<ol class="'+a+"control-nav "+a+r+'"></ol>'),i.pagingCount>1)for(var o=0;o<i.pagingCount;o++){if(n=i.slides.eq(o),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+s+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var c=n.attr("data-thumbcaption");""!==c&&void 0!==c&&(t+='<span class="'+a+'caption">'+c+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),s++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===u||u===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(a+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}""===u&&(u=t.type),g.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,g.controlNav.active(),i.controlNav.bind(l,function(t){if(t.preventDefault(),""===u||u===t.type){var n=e(this),r=i.controlNav.index(n);n.hasClass(a+"active")||(i.direction=r>i.currentSlide?"next":"prev",i.flexAnimate(r,i.vars.pauseOnAction))}""===u&&(u=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+a+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(a+"active").eq(i.animatingTo).addClass(a+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),g.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):g.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+a+'direction-nav"><li class="'+a+'nav-prev"><a class="'+a+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+a+'nav-next"><a class="'+a+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+a+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+a+"direction-nav li a",i)),g.directionNav.update(),i.directionNav.bind(l,function(t){t.preventDefault();var n;(""===u||u===t.type)&&(n=i.getTarget(e(this).hasClass(a+"next")?"next":"prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===u&&(u=t.type),g.setToClearWatchedEvent()})},update:function(){var e=a+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+a+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+a+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+a+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+a+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+a+"pauseplay a",i)),g.pausePlay.update(i.vars.slideshow?a+"pause":a+"play"),i.pausePlay.bind(l,function(t){t.preventDefault(),(""===u||u===t.type)&&(e(this).hasClass(a+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===u&&(u=t.type),g.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(a+"pause").addClass(a+"play").html(i.vars.playText):i.pausePlay.removeClass(a+"play").addClass(a+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),k=0,u=c?i.h:i.w,g=Number(new Date),l=d&&f&&i.animatingTo===i.last?0:d&&f?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:f?(i.last-i.currentSlide+i.cloneOffset)*u:(i.currentSlide+i.cloneOffset)*u)}function n(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,r=-e.translationY;return k+=c?r:i,h=k,b=c?Math.abs(k)<Math.abs(-i):Math.abs(k)<Math.abs(-r),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!b||Number(new Date)-g>500)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(h=k/(0===n.currentSlide&&0>k||n.currentSlide===n.last&&k>0?Math.abs(k)/u+2:1)),n.setProps(l+h,"setTouch"))))}}function r(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==h){var n=f?-h:h,i=t.getTarget(n>0?"next":"prev");t.canAdvance(i)&&(Number(new Date)-g<550&&Math.abs(n)>50||Math.abs(n)>u/2)?t.flexAnimate(i,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}a=null,o=null,h=null,l=null,k=0}}var a,o,l,u,h,g,m,v,y,b=!1,_=0,w=0,k=0;s?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",e,!1),t._slider=i,t.addEventListener("MSGestureChange",n,!1),t.addEventListener("MSGestureEnd",r,!1)):(m=function(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),u=c?i.h:i.w,g=Number(new Date),_=e.touches[0].pageX,w=e.touches[0].pageY,l=d&&f&&i.animatingTo===i.last?0:d&&f?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:d&&i.currentSlide===i.last?i.limit:d?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:f?(i.last-i.currentSlide+i.cloneOffset)*u:(i.currentSlide+i.cloneOffset)*u,a=c?w:_,o=c?_:w,t.addEventListener("touchmove",v,!1),t.addEventListener("touchend",y,!1))},v=function(e){_=e.touches[0].pageX,w=e.touches[0].pageY,h=c?a-w:a-_,b=c?Math.abs(h)<Math.abs(_-o):Math.abs(h)<Math.abs(w-o);(!b||Number(new Date)-g>500)&&(e.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(h/=0===i.currentSlide&&0>h||i.currentSlide===i.last&&h>0?Math.abs(h)/u+2:1),i.setProps(l+h,"setTouch")))},y=function(e){if(t.removeEventListener("touchmove",v,!1),i.animatingTo===i.currentSlide&&!b&&null!==h){var n=f?-h:h,r=i.getTarget(n>0?"next":"prev");i.canAdvance(r)&&(Number(new Date)-g<550&&Math.abs(n)>50||Math.abs(n)>u/2)?i.flexAnimate(r,i.vars.pauseOnAction):p||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",y,!1),a=null,o=null,h=null,l=null},t.addEventListener("touchstart",m,!1))},resize:function(){!i.animating&&i.is(":visible")&&(d||i.doMath(),p?g.smoothHeight():d?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):c?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&g.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!c||p){var t=p?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),r=i.animatingTo;switch(t){case"animate":n.flexAnimate(r,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=g.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){g.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var e=g.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(r),r=setTimeout(function(){u=""},3e3)}},i.flexAnimate=function(t,n,r,s,l){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),h&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,l)||r)&&i.is(":visible")){if(h&&s){var u=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,u.flexAnimate(t,!0,!1,!0,l),i.direction=i.currentItem<t?"next":"prev",u.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&g.sync("animate"),i.vars.controlNav&&g.controlNav.active(),d||i.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&g.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),p)o?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(b)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var m,v,y,b=c?i.slides.filter(":first").height():i.computedW;d?(m=i.vars.itemMargin,y=(i.itemW+m)*i.move*i.animatingTo,v=y>i.limit&&1!==i.visible?i.limit:y):v=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?f?(i.count+i.cloneOffset)*b:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?f?0:(i.count+1)*b:f?(i.count-1-t+i.cloneOffset)*b:(t+i.cloneOffset)*b,i.setProps(v,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(b)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(b)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(b)})}i.vars.smoothHeight&&g.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){p||d||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&!0&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&g.pausePlay.update("play"),i.syncExists&&g.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&g.pausePlay.update("pause"),i.syncExists&&g.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=h?i.pagingCount-1:i.last;return!!t||(!(!h||i.currentItem!==i.count-1||0!==e||"prev"!==i.direction)||(!h||0!==i.currentItem||e!==i.pagingCount-1||"next"===i.direction)&&(!(e===i.currentSlide&&!h)&&(!!i.vars.animationLoop||(!i.atEnd||0!==i.currentSlide||e!==n||"next"===i.direction)&&(!i.atEnd||i.currentSlide!==n||0!==e||"next"!==i.direction))))},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var r=function(){var n=e||(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo;return-1*function(){if(d)return"setTouch"===t?e:f&&i.animatingTo===i.last?0:f?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return f?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return f?e:i.count*e;case"jumpStart":return f?i.count*e:e;default:return e}}()+"px"}();i.transitions&&(r=c?"translate3d(0,"+r+",0)":"translate3d("+r+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=r,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",r)},i.setup=function(t){if(p)i.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(o?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&g.smoothHeight();else{var n,r;"init"===t&&(i.viewport=e('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,f&&(r=e.makeArray(i.slides).reverse(),i.slides=e(r),i.container.empty().append(i.slides))),i.vars.animationLoop&&!d&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(g.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=e(i.vars.selector,i),n=f?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,c&&!d?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,float:"left",display:"block"}),i.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0))}d||i.slides.removeClass(a+"active-slide").eq(i.currentSlide).addClass(a+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,r=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),d?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=r?r*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(r-1))/r:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),d||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!d||i.pagingCount>i.controlNav.length?g.controlNav.update("add"):("remove"===t&&!d||i.pagingCount<i.controlNav.length)&&(d&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),g.controlNav.update("remove",i.last))),i.vars.directionNav&&g.directionNav.update()},i.addSlide=function(t,n){var r=e(t);i.count+=1,i.last=i.count-1,c&&f?void 0!==n?i.slides.eq(i.count-n).after(r):i.container.prepend(r):void 0!==n?i.slides.eq(n).before(r):i.container.append(r),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():c&&f?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},g.init()},e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",r=n.find(i);1===r.length&&!0===t.allowOneSlide||0===r.length?(r.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),function(){function e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function t(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var s=e[r];t(i,s,n(s),e)}return i}function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function r(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function a(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a}function s(e,t){return!(null==e||!e.length)&&-1<g(e,t,0)}function o(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function l(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function u(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function c(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function f(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function d(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function p(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function h(e,t,n,i){var r=e.length;for(n+=i?1:-1;i?n--:++n<r;)if(t(e[n],n,e))return n;return-1}function g(e,t,n){if(t===t)e:{--n;for(var i=e.length;++n<i;)if(e[n]===t){e=n;break e}e=-1}else e=h(e,v,n);return e}function m(e,t,n,i){--n;for(var r=e.length;++n<r;)if(i(e[n],t))return n;return-1}function v(e){return e!==e}function y(e,t){var n=null==e?0:e.length;return n?x(e,t)/n:W}function b(e){return function(t){return null==t?B:t[e]}}function _(e){return function(t){return null==e?B:e[t]}}function w(e,t,n,i,r){return r(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function k(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function x(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);a!==B&&(n=n===B?a:n+a)}return n}function E(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function T(e,t){return l(t,function(t){return[t,e[t]]})}function A(e){return function(t){return e(t)}}function C(e,t){return l(t,function(t){return e[t]})}function S(e,t){return e.has(t)}function j(e,t){for(var n=-1,i=e.length;++n<i&&-1<g(t,e[n],0););return n}function N(e,t){for(var n=e.length;n--&&-1<g(t,e[n],0););return n}function P(e){return"\\"+we[e]}function I(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function M(e,t){return function(n){return e(t(n))}}function L(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var s=e[n];s!==t&&"__lodash_placeholder__"!==s||(e[n]="__lodash_placeholder__",a[r++]=n)}return a}function O(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function R(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function D(e){if(me.test(e)){for(var t=he.lastIndex=0;he.test(e);)++t;e=t}else e=qe(e);return e}function q(e){return me.test(e)?e.match(he)||[]:e.split("")}var B,F=1/0,W=NaN,H=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],U=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,V=RegExp(U.source),$=RegExp(z.source),K=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,G=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(G.source),J=/^\s+|\s+$/g,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ee=/\{\n\/\* \[wrapped with (.+)\] \*/,te=/,? & /,ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,se=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,fe="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",de=RegExp("['’]","g"),pe=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),he=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+fe,"g"),ge=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+","(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+fe].join("|"),"g"),me=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ve=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ye="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),be={};be["[object Float32Array]"]=be["[object Float64Array]"]=be["[object Int8Array]"]=be["[object Int16Array]"]=be["[object Int32Array]"]=be["[object Uint8Array]"]=be["[object Uint8ClampedArray]"]=be["[object Uint16Array]"]=be["[object Uint32Array]"]=!0,be["[object Arguments]"]=be["[object Array]"]=be["[object ArrayBuffer]"]=be["[object Boolean]"]=be["[object DataView]"]=be["[object Date]"]=be["[object Error]"]=be["[object Function]"]=be["[object Map]"]=be["[object Number]"]=be["[object Object]"]=be["[object RegExp]"]=be["[object Set]"]=be["[object String]"]=be["[object WeakMap]"]=!1;var _e={};_e["[object Arguments]"]=_e["[object Array]"]=_e["[object ArrayBuffer]"]=_e["[object DataView]"]=_e["[object Boolean]"]=_e["[object Date]"]=_e["[object Float32Array]"]=_e["[object Float64Array]"]=_e["[object Int8Array]"]=_e["[object Int16Array]"]=_e["[object Int32Array]"]=_e["[object Map]"]=_e["[object Number]"]=_e["[object Object]"]=_e["[object RegExp]"]=_e["[object Set]"]=_e["[object String]"]=_e["[object Symbol]"]=_e["[object Uint8Array]"]=_e["[object Uint8ClampedArray]"]=_e["[object Uint16Array]"]=_e["[object Uint32Array]"]=!0,_e["[object Error]"]=_e["[object Function]"]=_e["[object WeakMap]"]=!1;var we={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"
},ke=parseFloat,xe=parseInt,Ee="object"==typeof global&&global&&global.Object===Object&&global,Te="object"==typeof self&&self&&self.Object===Object&&self,Ae=Ee||Te||Function("return this")(),Ce="object"==typeof exports&&exports&&!exports.nodeType&&exports,Se=Ce&&"object"==typeof module&&module&&!module.nodeType&&module,je=Se&&Se.exports===Ce,Ne=je&&Ee.process,Pe=function(){try{var e=Se&&Se.f&&Se.f("util").types;return e||Ne&&Ne.binding&&Ne.binding("util")}catch(e){}}(),Ie=Pe&&Pe.isArrayBuffer,Me=Pe&&Pe.isDate,Le=Pe&&Pe.isMap,Oe=Pe&&Pe.isRegExp,Re=Pe&&Pe.isSet,De=Pe&&Pe.isTypedArray,qe=b("length"),Be=_({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Fe=_({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),We=_({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),He=function _(fe){function he(e){if(sr(e)&&!Ks(e)&&!(e instanceof Te)){if(e instanceof Ee)return e;if(Yr.call(e,"__wrapped__"))return ji(e)}return new Ee(e)}function we(){}function Ee(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=B}function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Pe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ne;++t<n;)this.add(e[t])}function qe(e){this.size=(this.__data__=new Se(e)).size}function Ue(e,t){var n,i=Ks(e),r=!i&&$s(e),a=!i&&!r&&Zs(e),s=!i&&!r&&!a&&eo(e),r=(i=i||r||a||s)?E(e.length,Hr):[],o=r.length;for(n in e)!t&&!Yr.call(e,n)||i&&("length"==n||a&&("offset"==n||"parent"==n)||s&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||mi(n,o))||r.push(n);return r}function ze(e){var t=e.length;return t?e[Kt(0,t-1)]:B}function Ve(e,t){return Ti(En(e),tt(t,0,e.length))}function $e(e){return Ti(En(e))}function Ke(e,t,n){(n===B||Ji(e[t],n))&&(n!==B||t in e)||Xe(e,t,n)}function Ye(e,t,n){var i=e[t];Yr.call(e,t)&&Ji(i,n)&&(n!==B||t in e)||Xe(e,t,n)}function Ze(e,t){for(var n=e.length;n--;)if(Ji(e[n][0],t))return n;return-1}function Ge(e,t,n,i){return $a(e,function(e,r,a){t(i,e,n(e),a)}),i}function Qe(e,t){return e&&Tn(t,_r(t),e)}function Je(e,t){return e&&Tn(t,wr(t),e)}function Xe(e,t,n){"__proto__"==t&&da?da(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function et(e,t){for(var n=-1,i=t.length,r=Or(i),a=null==e;++n<i;)r[n]=a?B:yr(e,t[n]);return r}function tt(e,t,n){return e===e&&(n!==B&&(e=e<=n?e:n),t!==B&&(e=e>=t?e:t)),e}function nt(e,t,i,r,a,s){var o,l=1&t,u=2&t,c=4&t;if(i&&(o=a?i(e,r,a,s):i(e)),o!==B)return o;if(!ar(e))return e;if(r=Ks(e)){if(o=di(e),!l)return En(e,o)}else{var f=is(e),d="[object Function]"==f||"[object GeneratorFunction]"==f;if(Zs(e))return yn(e,l);if("[object Object]"==f||"[object Arguments]"==f||d&&!a){if(o=u||d?{}:pi(e),!l)return u?Cn(e,Je(o,e)):An(e,Qe(o,e))}else{if(!_e[f])return a?e:{};o=hi(e,f,l)}}if(s||(s=new qe),a=s.get(e))return a;if(s.set(e,o),Xs(e))return e.forEach(function(n){o.add(nt(n,t,i,n,e,s))}),o;if(Qs(e))return e.forEach(function(n,r){o.set(r,nt(n,t,i,r,e,s))}),o;var u=c?u?ri:ii:u?wr:_r,p=r?B:u(e);return n(p||e,function(n,r){p&&(r=n,n=e[r]),Ye(o,r,nt(n,t,i,r,e,s))}),o}function it(e){var t=_r(e);return function(n){return rt(n,e,t)}}function rt(e,t,n){var i=n.length;if(null==e)return!i;for(e=Fr(e);i--;){var r=n[i],a=t[r],s=e[r];if(s===B&&!(r in e)||!a(s))return!1}return!0}function at(e,t,n){if("function"!=typeof e)throw new Ur("Expected a function");return ss(function(){e.apply(B,n)},t)}function st(e,t,n,i){var r=-1,a=s,u=!0,c=e.length,f=[],d=t.length;if(!c)return f;n&&(t=l(t,A(n))),i?(a=o,u=!1):200<=t.length&&(a=S,u=!1,t=new Pe(t));e:for(;++r<c;){var p=e[r],h=null==n?p:n(p),p=i||0!==p?p:0;if(u&&h===h){for(var g=d;g--;)if(t[g]===h)continue e;f.push(p)}else a(t,h,i)||f.push(p)}return f}function ot(e,t){var n=!0;return $a(e,function(e,i,r){return n=!!t(e,i,r)}),n}function lt(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],s=t(a);if(null!=s&&(o===B?s===s&&!cr(s):n(s,o)))var o=s,l=a}return l}function ut(e,t){var n=[];return $a(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function ct(e,t,n,i,r){var a=-1,s=e.length;for(n||(n=gi),r||(r=[]);++a<s;){var o=e[a];0<t&&n(o)?1<t?ct(o,t-1,n,i,r):u(r,o):i||(r[r.length]=o)}return r}function ft(e,t){return e&&Ya(e,t,_r)}function dt(e,t){return e&&Za(e,t,_r)}function pt(e,t){return a(t,function(t){return nr(e[t])})}function ht(e,t){t=mn(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[Ai(t[n++])];return n&&n==i?e:B}function gt(e,t,n){return t=t(e),Ks(e)?t:u(t,n(e))}function mt(e){if(null==e)e=e===B?"[object Undefined]":"[object Null]";else if(fa&&fa in Fr(e)){var t=Yr.call(e,fa),n=e[fa];try{e[fa]=B}catch(e){}var i=Qr.call(e);t?e[fa]=n:delete e[fa],e=i}else e=Qr.call(e);return e}function vt(e,t){return e>t}function yt(e,t){return null!=e&&Yr.call(e,t)}function bt(e,t){return null!=e&&t in Fr(e)}function _t(e,t,n){for(var i=n?o:s,r=e[0].length,a=e.length,u=a,c=Or(a),f=1/0,d=[];u--;){var p=e[u];u&&t&&(p=l(p,A(t))),f=Ea(p.length,f),c[u]=!n&&(t||120<=r&&120<=p.length)?new Pe(u&&p):B}var p=e[0],h=-1,g=c[0];e:for(;++h<r&&d.length<f;){var m=p[h],v=t?t(m):m,m=n||0!==m?m:0;if(g?!S(g,v):!i(d,v,n)){for(u=a;--u;){var y=c[u];if(y?!S(y,v):!i(e[u],v,n))continue e}g&&g.push(v),d.push(m)}}return d}function wt(e,t,n){var i={};return ft(e,function(e,r,a){t(i,n(e),r,a)}),i}function kt(t,n,i){return n=mn(n,t),t=2>n.length?t:ht(t,en(n,0,-1)),n=null==t?t:t[Ai(Li(n))],null==n?B:e(n,t,i)}function xt(e){return sr(e)&&"[object Arguments]"==mt(e)}function Et(e){return sr(e)&&"[object ArrayBuffer]"==mt(e)}function Tt(e){return sr(e)&&"[object Date]"==mt(e)}function At(e,t,n,i,r){if(e===t)t=!0;else if(null==e||null==t||!sr(e)&&!sr(t))t=e!==e&&t!==t;else e:{var a=Ks(e),s=Ks(t),o=a?"[object Array]":is(e),l=s?"[object Array]":is(t),o="[object Arguments]"==o?"[object Object]":o,l="[object Arguments]"==l?"[object Object]":l,u="[object Object]"==o,s="[object Object]"==l;if((l=o==l)&&Zs(e)){if(!Zs(t)){t=!1;break e}a=!0,u=!1}if(l&&!u)r||(r=new qe),t=a||eo(e)?ei(e,t,n,i,At,r):ti(e,t,o,n,i,At,r);else{if(!(1&n)&&(a=u&&Yr.call(e,"__wrapped__"),o=s&&Yr.call(t,"__wrapped__"),a||o)){e=a?e.value():e,t=o?t.value():t,r||(r=new qe),t=At(e,t,n,i,r);break e}if(l)t:if(r||(r=new qe),a=1&n,o=ii(e),s=o.length,l=ii(t).length,s==l||a){for(u=s;u--;){var c=o[u];if(!(a?c in t:Yr.call(t,c))){t=!1;break t}}if((l=r.get(e))&&r.get(t))t=l==t;else{l=!0,r.set(e,t),r.set(t,e);for(var f=a;++u<s;){var c=o[u],d=e[c],p=t[c];if(i)var h=a?i(p,d,c,t,e,r):i(d,p,c,e,t,r);if(h===B?d!==p&&!At(d,p,n,i,r):!h){l=!1;break}f||(f="constructor"==c)}l&&!f&&(n=e.constructor,i=t.constructor,n!=i&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)&&(l=!1)),r.delete(e),r.delete(t),t=l}}else t=!1;else t=!1}}return t}function Ct(e){return sr(e)&&"[object Map]"==is(e)}function St(e,t,n,i){var r=n.length,a=r,s=!i;if(null==e)return!a;for(e=Fr(e);r--;){var o=n[r];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<a;){var o=n[r],l=o[0],u=e[l],c=o[1];if(s&&o[2]){if(u===B&&!(l in e))return!1}else{if(o=new qe,i)var f=i(u,c,l,e,t,o);if(f===B?!At(c,u,3,i,o):!f)return!1}}return!0}function jt(e){return!(!ar(e)||Gr&&Gr in e)&&(nr(e)?ea:se).test(Ci(e))}function Nt(e){return sr(e)&&"[object RegExp]"==mt(e)}function Pt(e){return sr(e)&&"[object Set]"==is(e)}function It(e){return sr(e)&&rr(e.length)&&!!be[mt(e)]}function Mt(e){return"function"==typeof e?e:null==e?Sr:"object"==typeof e?Ks(e)?qt(e[0],e[1]):Dt(e):Ir(e)}function Lt(e){if(!_i(e))return ka(e);var t,n=[];for(t in Fr(e))Yr.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Ot(e,t){return e<t}function Rt(e,t){var n=-1,i=Xi(e)?Or(e.length):[];return $a(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Dt(e){var t=ui(e);return 1==t.length&&t[0][2]?wi(t[0][0],t[0][1]):function(n){return n===e||St(n,e,t)}}function qt(e,t){return yi(e)&&t===t&&!ar(t)?wi(Ai(e),t):function(n){var i=yr(n,e);return i===B&&i===t?br(n,e):At(t,i,3)}}function Bt(e,t,n,i,r){e!==t&&Ya(t,function(a,s){if(ar(a)){r||(r=new qe);var o=r,l="__proto__"==s?B:e[s],u="__proto__"==s?B:t[s],c=o.get(u);if(c)Ke(e,s,c);else{var c=i?i(l,u,s+"",e,t,o):B,f=c===B;if(f){var d=Ks(u),p=!d&&Zs(u),h=!d&&!p&&eo(u),c=u;d||p||h?Ks(l)?c=l:er(l)?c=En(l):p?(f=!1,c=yn(u,!0)):h?(f=!1,c=_n(u,!0)):c=[]:lr(u)||$s(u)?(c=l,$s(l)?c=mr(l):(!ar(l)||n&&nr(l))&&(c=pi(u))):f=!1}f&&(o.set(u,c),Bt(c,u,n,i,o),o.delete(u)),Ke(e,s,c)}}else o=i?i("__proto__"==s?B:e[s],a,s+"",e,t,r):B,o===B&&(o=a),Ke(e,s,o)},wr)}function Ft(e,t){var n=e.length;if(n)return t+=0>t?n:0,mi(t,n)?e[t]:B}function Wt(e,t,n){var i=-1;return t=l(t.length?t:[Sr],A(oi())),e=Rt(e,function(e){return{a:l(t,function(t){return t(e)}),b:++i,c:e}}),k(e,function(e,t){var i;e:{i=-1;for(var r=e.a,a=t.a,s=r.length,o=n.length;++i<s;){var l=wn(r[i],a[i]);if(l){i=i>=o?l:l*("desc"==n[i]?-1:1);break e}}i=e.b-t.b}return i})}function Ht(e,t){return Ut(e,t,function(t,n){return br(e,n)})}function Ut(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var s=t[i],o=ht(e,s);n(o,s)&&Jt(a,mn(s,e),o)}return a}function zt(e){return function(t){return ht(t,e)}}function Vt(e,t,n,i){var r=i?m:g,a=-1,s=t.length,o=e;for(e===t&&(t=En(t)),n&&(o=l(e,A(n)));++a<s;)for(var u=0,c=t[a],c=n?n(c):c;-1<(u=r(o,c,u,i));)o!==e&&la.call(o,u,1),la.call(e,u,1);return e}function $t(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;mi(r)?la.call(e,r,1):un(e,r)}}}function Kt(e,t){return e+va(Ca()*(t-e+1))}function Yt(e,t){var n="";if(!e||1>t||9007199254740991<t)return n;do{t%2&&(n+=e),(t=va(t/2))&&(e+=e)}while(t);return n}function Zt(e,t){return os(ki(e,t,Sr),e+"")}function Gt(e){return ze(xr(e))}function Qt(e,t){var n=xr(e);return Ti(n,tt(t,0,n.length))}function Jt(e,t,n,i){if(!ar(e))return e;t=mn(t,e);for(var r=-1,a=t.length,s=a-1,o=e;null!=o&&++r<a;){var l=Ai(t[r]),u=n;if(r!=s){var c=o[l],u=i?i(c,l,o):B;u===B&&(u=ar(c)?c:mi(t[r+1])?[]:{})}Ye(o,l,u),o=o[l]}return e}function Xt(e){return Ti(xr(e))}function en(e,t,n){var i=-1,r=e.length;for(0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0,n=Or(r);++i<r;)n[i]=e[i+t];return n}function tn(e,t){var n;return $a(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function nn(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t===t&&2147483647>=r){for(;i<r;){var a=i+r>>>1,s=e[a];null!==s&&!cr(s)&&(n?s<=t:s<t)?i=a+1:r=a}return r}return rn(e,t,Sr,n)}function rn(e,t,n,i){t=n(t);for(var r=0,a=null==e?0:e.length,s=t!==t,o=null===t,l=cr(t),u=t===B;r<a;){var c=va((r+a)/2),f=n(e[c]),d=f!==B,p=null===f,h=f===f,g=cr(f);(s?i||h:u?h&&(i||d):o?h&&d&&(i||!p):l?h&&d&&!p&&(i||!g):p||g?0:i?f<=t:f<t)?r=c+1:a=c}return Ea(a,4294967294)}function an(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var s=e[n],o=t?t(s):s;if(!n||!Ji(o,l)){var l=o;a[r++]=0===s?0:s}}return a}function sn(e){return"number"==typeof e?e:cr(e)?W:+e}function on(e){if("string"==typeof e)return e;if(Ks(e))return l(e,on)+"";if(cr(e))return za?za.call(e):"";var t=e+"";return"0"==t&&1/e==-F?"-0":t}function ln(e,t,n){var i=-1,r=s,a=e.length,l=!0,u=[],c=u;if(n)l=!1,r=o;else if(200<=a){if(r=t?null:Xa(e))return O(r);l=!1,r=S,c=new Pe}else c=t?[]:u;e:for(;++i<a;){var f=e[i],d=t?t(f):f,f=n||0!==f?f:0;if(l&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),u.push(f)}else r(c,d,n)||(c!==u&&c.push(d),u.push(f))}return u}function un(e,t){return t=mn(t,e),null==(e=2>t.length?e:ht(e,en(t,0,-1)))||delete e[Ai(Li(t))]}function cn(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?en(e,i?0:a,i?a+1:r):en(e,i?a+1:0,i?r:a)}function fn(e,t){var n=e;return n instanceof Te&&(n=n.value()),c(t,function(e,t){return t.func.apply(t.thisArg,u([e],t.args))},n)}function dn(e,t,n){var i=e.length;if(2>i)return i?ln(e[0]):[];for(var r=-1,a=Or(i);++r<i;)for(var s=e[r],o=-1;++o<i;)o!=r&&(a[r]=st(a[r]||s,e[o],t,n));return ln(ct(a,1),t,n)}function pn(e,t,n){for(var i=-1,r=e.length,a=t.length,s={};++i<r;)n(s,e[i],i<a?t[i]:B);return s}function hn(e){return er(e)?e:[]}function gn(e){return"function"==typeof e?e:Sr}function mn(e,t){return Ks(e)?e:yi(e,t)?[e]:ls(vr(e))}function vn(e,t,n){var i=e.length;return n=n===B?i:n,!t&&n>=i?e:en(e,t,n)}function yn(e,t){if(t)return e.slice();var n=e.length,n=ra?ra(n):new e.constructor(n);return e.copy(n),n}function bn(e){var t=new e.constructor(e.byteLength);return new ia(t).set(new ia(e)),t}function _n(e,t){return new e.constructor(t?bn(e.buffer):e.buffer,e.byteOffset,e.length)}function wn(e,t){if(e!==t){var n=e!==B,i=null===e,r=e===e,a=cr(e),s=t!==B,o=null===t,l=t===t,u=cr(t);if(!o&&!u&&!a&&e>t||a&&s&&l&&!o&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!a&&!u&&e<t||u&&n&&r&&!i&&!a||o&&n&&r||!s&&r||!l)return-1}return 0}function kn(e,t,n,i){var r=-1,a=e.length,s=n.length,o=-1,l=t.length,u=xa(a-s,0),c=Or(l+u);for(i=!i;++o<l;)c[o]=t[o];for(;++r<s;)(i||r<a)&&(c[n[r]]=e[r]);for(;u--;)c[o++]=e[r++];return c}function xn(e,t,n,i){var r=-1,a=e.length,s=-1,o=n.length,l=-1,u=t.length,c=xa(a-o,0),f=Or(c+u);for(i=!i;++r<c;)f[r]=e[r];for(c=r;++l<u;)f[c+l]=t[l];for(;++s<o;)(i||r<a)&&(f[c+n[s]]=e[r++]);return f}function En(e,t){var n=-1,i=e.length;for(t||(t=Or(i));++n<i;)t[n]=e[n];return t}function Tn(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=i?i(n[o],e[o],o,n,e):B;l===B&&(l=e[o]),r?Xe(n,o,l):Ye(n,o,l)}return n}function An(e,t){return Tn(e,ts(e),t)}function Cn(e,t){return Tn(e,ns(e),t)}function Sn(e,n){return function(i,r){var a=Ks(i)?t:Ge,s=n?n():{};return a(i,e,oi(r,2),s)}}function jn(e){return Zt(function(t,n){var i=-1,r=n.length,a=1<r?n[r-1]:B,s=2<r?n[2]:B,a=3<e.length&&"function"==typeof a?(r--,a):B;for(s&&vi(n[0],n[1],s)&&(a=3>r?B:a,r=1),t=Fr(t);++i<r;)(s=n[i])&&e(t,s,i,a);return t})}function Nn(e,t){return function(n,i){if(null==n)return n;if(!Xi(n))return e(n,i);for(var r=n.length,a=t?r:-1,s=Fr(n);(t?a--:++a<r)&&!1!==i(s[a],a,s););return n}}function Pn(e){return function(t,n,i){var r=-1,a=Fr(t);i=i(t);for(var s=i.length;s--;){var o=i[e?s:++r];if(!1===n(a[o],o,a))break}return t}}function In(e,t,n){function i(){return(this&&this!==Ae&&this instanceof i?a:e).apply(r?n:this,arguments)}var r=1&t,a=On(e);return i}function Mn(e){return function(t){t=vr(t);var n=me.test(t)?q(t):B,i=n?n[0]:t.charAt(0);return t=n?vn(n,1).join(""):t.slice(1),i[e]()+t}}function Ln(e){return function(t){return c(Ar(Tr(t).replace(de,"")),e,"")}}function On(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Va(e.prototype),t=e.apply(n,t);return ar(t)?t:n}}function Rn(t,n,i){function r(){for(var s=arguments.length,o=Or(s),l=s,u=si(r);l--;)o[l]=arguments[l];return l=3>s&&o[0]!==u&&o[s-1]!==u?[]:L(o,u),s-=l.length,s<i?Kn(t,n,Bn,r.placeholder,B,o,l,B,B,i-s):e(this&&this!==Ae&&this instanceof r?a:t,this,o)}var a=On(t);return r}function Dn(e){return function(t,n,i){var r=Fr(t);if(!Xi(t)){var a=oi(n,3);t=_r(t),n=function(e){return a(r[e],e,r)}}return n=e(t,n,i),-1<n?r[a?t[n]:n]:B}}function qn(e){return ni(function(t){var n=t.length,i=n,r=Ee.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new Ur("Expected a function");if(r&&!s&&"wrapper"==ai(a))var s=new Ee([],!0)}for(i=s?i:n;++i<n;)var a=t[i],r=ai(a),o="wrapper"==r?es(a):B,s=o&&bi(o[0])&&424==o[1]&&!o[4].length&&1==o[9]?s[ai(o[0])].apply(s,o[3]):1==a.length&&bi(a)?s[r]():s.thru(a);return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Ks(i))return s.plant(i).value();for(var r=0,e=n?t[r].apply(this,e):i;++r<n;)e=t[r].call(this,e);return e}})}function Bn(e,t,n,i,r,a,s,o,l,u){function c(){for(var v=arguments.length,y=Or(v),b=v;b--;)y[b]=arguments[b];if(h){var _,w=si(c),b=y.length;for(_=0;b--;)y[b]===w&&++_}if(i&&(y=kn(y,i,r,h)),a&&(y=xn(y,a,s,h)),v-=_,h&&v<u)return w=L(y,w),Kn(e,t,Bn,c.placeholder,n,y,w,o,l,u-v);if(w=d?n:this,b=p?w[e]:e,v=y.length,o){_=y.length;for(var k=Ea(o.length,_),x=En(y);k--;){var E=o[k];y[k]=mi(E,_)?x[E]:B}}else g&&1<v&&y.reverse();return f&&l<v&&(y.length=l),this&&this!==Ae&&this instanceof c&&(b=m||On(b)),b.apply(w,y)}var f=128&t,d=1&t,p=2&t,h=24&t,g=512&t,m=p?B:On(e);return c}function Fn(e,t){return function(n,i){return wt(n,e,t(i))}}function Wn(e,t){return function(n,i){var r;if(n===B&&i===B)return t;if(n!==B&&(r=n),i!==B){if(r===B)return i;"string"==typeof n||"string"==typeof i?(n=on(n),i=on(i)):(n=sn(n),i=sn(i)),r=e(n,i)}return r}}function Hn(t){return ni(function(n){return n=l(n,A(oi())),Zt(function(i){var r=this;return t(n,function(t){return e(t,r,i)})})})}function Un(e,t){t=t===B?" ":on(t);var n=t.length;return 2>n?n?Yt(t,e):t:(n=Yt(t,ma(e/D(t))),me.test(t)?vn(q(n),0,e).join(""):n.slice(0,e))}function zn(t,n,i,r){function a(){for(var n=-1,l=arguments.length,u=-1,c=r.length,f=Or(c+l),d=this&&this!==Ae&&this instanceof a?o:t;++u<c;)f[u]=r[u];for(;l--;)f[u++]=arguments[++n];return e(d,s?i:this,f)}var s=1&n,o=On(t);return a}function Vn(e){return function(t,n,i){i&&"number"!=typeof i&&vi(t,n,i)&&(n=i=B),t=dr(t),n===B?(n=t,t=0):n=dr(n),i=i===B?t<n?1:-1:dr(i);var r=-1;n=xa(ma((n-t)/(i||1)),0);for(var a=Or(n);n--;)a[e?n:++r]=t,t+=i;return a}}function $n(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gr(t),n=gr(n)),e(t,n)}}function Kn(e,t,n,i,r,a,s,o,l,u){var c=8&t,f=c?s:B;s=c?B:s;var d=c?a:B;return a=c?B:a,t=(t|(c?32:64))&~(c?64:32),4&t||(t&=-4),r=[e,t,r,d,f,a,s,o,l,u],n=n.apply(B,r),bi(e)&&as(n,r),n.placeholder=i,xi(n,e,t)}function Yn(e){var t=Br[e];return function(e,n){if(e=gr(e),n=null==n?0:Ea(pr(n),292)){var i=(vr(e)+"e").split("e"),i=t(i[0]+"e"+(+i[1]+n)),i=(vr(i)+"e").split("e");return+(i[0]+"e"+(+i[1]-n))}return t(e)}}function Zn(e){return function(t){var n=is(t);return"[object Map]"==n?I(t):"[object Set]"==n?R(t):T(t,e(t))}}function Gn(e,t,n,i,r,a,s,o){var l=2&t;if(!l&&"function"!=typeof e)throw new Ur("Expected a function");var u=i?i.length:0;if(u||(t&=-97,i=r=B),s=s===B?s:xa(pr(s),0),o=o===B?o:pr(o),u-=r?r.length:0,64&t){var c=i,f=r;i=r=B}var d=l?B:es(e);return a=[e,t,n,i,r,c,f,a,s,o],d&&(n=a[1],e=d[1],t=n|e,i=128==e&&8==n||128==e&&256==n&&a[7].length<=d[8]||384==e&&d[7].length<=d[8]&&8==n,131>t||i)&&(1&e&&(a[2]=d[2],t|=1&n?0:4),(n=d[3])&&(i=a[3],a[3]=i?kn(i,n,d[4]):n,a[4]=i?L(a[3],"__lodash_placeholder__"):d[4]),(n=d[5])&&(i=a[5],a[5]=i?xn(i,n,d[6]):n,a[6]=i?L(a[5],"__lodash_placeholder__"):d[6]),(n=d[7])&&(a[7]=n),128&e&&(a[8]=null==a[8]?d[8]:Ea(a[8],d[8])),null==a[9]&&(a[9]=d[9]),a[0]=d[0],a[1]=t),e=a[0],t=a[1],n=a[2],i=a[3],r=a[4],o=a[9]=a[9]===B?l?0:e.length:xa(a[9]-u,0),!o&&24&t&&(t&=-25),xi((d?Ga:as)(t&&1!=t?8==t||16==t?Rn(e,t,o):32!=t&&33!=t||r.length?Bn.apply(B,a):zn(e,t,n,i):In(e,t,n),a),e,t)}function Qn(e,t,n,i){return e===B||Ji(e,Vr[n])&&!Yr.call(i,n)?t:e}function Jn(e,t,n,i,r,a){return ar(e)&&ar(t)&&(a.set(t,e),Bt(e,t,B,Jn,a),a.delete(t)),e}function Xn(e){return lr(e)?B:e}function ei(e,t,n,i,r,a){var s=1&n,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;if((l=a.get(e))&&a.get(t))return l==t;var l=-1,u=!0,c=2&n?new Pe:B;for(a.set(e,t),a.set(t,e);++l<o;){var f=e[l],p=t[l];if(i)var h=s?i(p,f,l,t,e,a):i(f,p,l,e,t,a);if(h!==B){if(h)continue;u=!1;break}if(c){if(!d(t,function(e,t){if(!S(c,t)&&(f===e||r(f,e,n,i,a)))return c.push(t)})){u=!1;break}}else if(f!==p&&!r(f,p,n,i,a)){u=!1;break}}return a.delete(e),a.delete(t),u}function ti(e,t,n,i,r,a,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new ia(e),new ia(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Ji(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=I;case"[object Set]":if(o||(o=O),e.size!=t.size&&!(1&i))break;return(n=s.get(e))?n==t:(i|=2,s.set(e,t),t=ei(o(e),o(t),i,r,a,s),s.delete(e),t);case"[object Symbol]":if(Ua)return Ua.call(e)==Ua.call(t)}return!1}function ni(e){return os(ki(e,B,Ii),e+"")}function ii(e){return gt(e,_r,ts)}function ri(e){return gt(e,wr,ns)}function ai(e){for(var t=e.name+"",n=Ra[t],i=Yr.call(Ra,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function si(e){return(Yr.call(he,"placeholder")?he:e).placeholder}function oi(){var e=he.iteratee||jr,e=e===jr?Mt:e;return arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n=e.__data__,i=typeof t;return("string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function ui(e){for(var t=_r(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,r===r&&!ar(r)]}return t}function ci(e,t){var n=null==e?B:e[t];return jt(n)?n:B}function fi(e,t,n){t=mn(t,e);for(var i=-1,r=t.length,a=!1;++i<r;){var s=Ai(t[i]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&rr(r)&&mi(s,r)&&(Ks(e)||$s(e))}function di(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Yr.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function pi(e){return"function"!=typeof e.constructor||_i(e)?{}:Va(aa(e))}function hi(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return bn(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return t=n?bn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _n(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return t=new e.constructor(e.source,ie.exec(e)),t.lastIndex=e.lastIndex,t;case"[object Set]":return new i;case"[object Symbol]":return Ua?Fr(Ua.call(e)):{}}}function gi(e){return Ks(e)||$s(e)||!!(ua&&e&&e[ua])}function mi(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&-1<e&&0==e%1&&e<t}function vi(e,t,n){if(!ar(n))return!1;var i=typeof t;return!!("number"==i?Xi(n)&&mi(t,n.length):"string"==i&&t in n)&&Ji(n[t],e)}function yi(e,t){if(Ks(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cr(e))||Z.test(e)||!Y.test(e)||null!=t&&e in Fr(t)}function bi(e){var t=ai(e),n=he[t];return"function"==typeof n&&t in Te.prototype&&(e===n||!!(t=es(n))&&e===t[0])}function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Vr)}function wi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==B||e in Fr(n))}}function ki(t,n,i){return n=xa(n===B?t.length-1:n,0),function(){for(var r=arguments,a=-1,s=xa(r.length-n,0),o=Or(s);++a<s;)o[a]=r[n+a];for(a=-1,s=Or(n+1);++a<n;)s[a]=r[a];return s[n]=i(o),e(t,this,s)}}function xi(e,t,n){var i=t+"";t=os;var r,a=Si;return r=(r=i.match(ee))?r[1].split(te):[],n=a(r,n),(a=n.length)&&(r=a-1,n[r]=(1<a?"& ":"")+n[r],n=n.join(2<a?", ":" "),i=i.replace(X,"{\n/* [wrapped with "+n+"] */\n")),t(e,i)}function Ei(e){var t=0,n=0;return function(){var i=Ta(),r=16-(i-n);if(n=i,0<r){if(800<=++t)return arguments[0]}else t=0;return e.apply(B,arguments)}}function Ti(e,t){var n=-1,i=e.length,r=i-1;for(t=t===B?i:t;++n<t;){var i=Kt(n,r),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function Ai(e){if("string"==typeof e||cr(e))return e;var t=e+"";return"0"==t&&1/e==-F?"-0":t}function Ci(e){if(null!=e){try{return Kr.call(e)}catch(e){}return e+""}return""}function Si(e,t){return n(H,function(n){var i="_."+n[0];t&n[1]&&!s(e,i)&&e.push(i)}),e.sort()}function ji(e){if(e instanceof Te)return e.clone();var t=new Ee(e.__wrapped__,e.__chain__);return t.__actions__=En(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ni(e,t,n){var i=null==e?0:e.length;return i?(n=null==n?0:pr(n),0>n&&(n=xa(i+n,0)),h(e,oi(t,3),n)):-1}function Pi(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==B&&(r=pr(n),r=0>n?xa(i+r,0):Ea(r,i-1)),h(e,oi(t,3),r,!0)}function Ii(e){return(null==e?0:e.length)?ct(e,1):[]}function Mi(e){return e&&e.length?e[0]:B}function Li(e){var t=null==e?0:e.length;return t?e[t-1]:B}function Oi(e,t){return e&&e.length&&t&&t.length?Vt(e,t):e}function Ri(e){return null==e?e:Sa.call(e)}function Di(e){if(!e||!e.length)return[];var t=0;return e=a(e,function(e){if(er(e))return t=xa(e.length,t),!0}),E(t,function(t){return l(e,b(t))})}function qi(t,n){if(!t||!t.length)return[];var i=Di(t);return null==n?i:l(i,function(t){return e(n,B,t)})}function Bi(e){return e=he(e),e.__chain__=!0,e}function Fi(e,t){return t(e)}function Wi(){return this}function Hi(e,t){return(Ks(e)?n:$a)(e,oi(t,3))}function Ui(e,t){return(Ks(e)?i:Ka)(e,oi(t,3))}function zi(e,t){return(Ks(e)?l:Rt)(e,oi(t,3))}function Vi(e,t,n){return t=n?B:t,t=e&&null==t?e.length:t,Gn(e,128,B,B,B,B,t)}function $i(e,t){var n;if("function"!=typeof t)throw new Ur("Expected a function");return e=pr(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=B),n}}function Ki(e,t,n){return t=n?B:t,e=Gn(e,8,B,B,B,B,B,t),e.placeholder=Ki.placeholder,e}function Yi(e,t,n){return t=n?B:t,e=Gn(e,16,B,B,B,B,B,t),e.placeholder=Yi.placeholder,e}function Zi(e,t,n){function i(t){var n=l,i=u;return l=u=B,h=t,f=e.apply(i,n)}function r(e){var n=e-p;return e-=h,p===B||n>=t||0>n||m&&e>=c}function a(){var e=Os();if(r(e))return s(e);var n,i=ss;n=e-h,e=t-(e-p),n=m?Ea(e,c-n):e,d=i(a,n)}function s(e){return d=B,v&&l?i(e):(l=u=B,f)}function o(){var e=Os(),n=r(e);if(l=arguments,u=this,p=e,n){if(d===B)return h=e=p,d=ss(a,t),g?i(e):f;if(m)return d=ss(a,t),i(p)}return d===B&&(d=ss(a,t)),f}var l,u,c,f,d,p,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new Ur("Expected a function");return t=gr(t)||0,ar(n)&&(g=!!n.leading,c=(m="maxWait"in n)?xa(gr(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),o.cancel=function(){d!==B&&Ja(d),h=0,l=p=u=d=B},o.flush=function(){return d===B?f:s(Os())},o}function Gi(e,t){function n(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;return a.has(r)?a.get(r):(i=e.apply(this,i),n.cache=a.set(r,i)||a,i)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ur("Expected a function");return n.cache=new(Gi.Cache||Ne),n}function Qi(e){if("function"!=typeof e)throw new Ur("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ji(e,t){return e===t||e!==e&&t!==t}function Xi(e){return null!=e&&rr(e.length)&&!nr(e)}function er(e){return sr(e)&&Xi(e)}function tr(e){if(!sr(e))return!1;var t=mt(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!lr(e)}function nr(e){return!!ar(e)&&("[object Function]"==(e=mt(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ir(e){return"number"==typeof e&&e==pr(e)}function rr(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function ar(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sr(e){return null!=e&&"object"==typeof e}function or(e){return"number"==typeof e||sr(e)&&"[object Number]"==mt(e)}function lr(e){return!(!sr(e)||"[object Object]"!=mt(e))&&(null===(e=aa(e))||"function"==typeof(e=Yr.call(e,"constructor")&&e.constructor)&&e instanceof e&&Kr.call(e)==Jr)}function ur(e){return"string"==typeof e||!Ks(e)&&sr(e)&&"[object String]"==mt(e)}function cr(e){return"symbol"==typeof e||sr(e)&&"[object Symbol]"==mt(e)}function fr(e){if(!e)return[];if(Xi(e))return ur(e)?q(e):En(e);if(ca&&e[ca]){e=e[ca]();for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}return t=is(e),("[object Map]"==t?I:"[object Set]"==t?O:xr)(e)}function dr(e){return e?(e=gr(e),e===F||e===-F?1.7976931348623157e308*(0>e?-1:1):e===e?e:0):0===e?e:0}function pr(e){e=dr(e);var t=e%1;return e===e?t?e-t:e:0}function hr(e){return e?tt(pr(e),0,4294967295):0}function gr(e){if("number"==typeof e)return e;if(cr(e))return W;if(ar(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=ar(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(J,"");var t=ae.test(e);return t||oe.test(e)?xe(e.slice(2),t?2:8):re.test(e)?W:+e}function mr(e){return Tn(e,wr(e))}function vr(e){return null==e?"":on(e)}function yr(e,t,n){return e=null==e?B:ht(e,t),e===B?n:e}function br(e,t){return null!=e&&fi(e,t,bt)}function _r(e){return Xi(e)?Ue(e):Lt(e)}function wr(e){if(Xi(e))e=Ue(e,!0);else if(ar(e)){var t,n=_i(e),i=[];for(t in e)("constructor"!=t||!n&&Yr.call(e,t))&&i.push(t);e=i}else{if(t=[],null!=e)for(n in Fr(e))t.push(n);e=t}return e}function kr(e,t){if(null==e)return{};var n=l(ri(e),function(e){return[e]});return t=oi(t),Ut(e,n,function(e,n){return t(e,n[0])})}function xr(e){return null==e?[]:C(e,_r(e))}function Er(e){return Co(vr(e).toLowerCase())}function Tr(e){return(e=vr(e))&&e.replace(ue,Be).replace(pe,"")}function Ar(e,t,n){return e=vr(e),t=n?B:t,t===B?ve.test(e)?e.match(ge)||[]:e.match(ne)||[]:e.match(t)||[]}function Cr(e){return function(){return e}}function Sr(e){return e}function jr(e){return Mt("function"==typeof e?e:nt(e,1))}function Nr(e,t,i){var r=_r(t),a=pt(t,r);null!=i||ar(t)&&(a.length||!r.length)||(i=t,t=e,e=this,a=pt(t,_r(t)));var s=!(ar(i)&&"chain"in i&&!i.chain),o=nr(e);return n(a,function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=En(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,u([this.value()],arguments))})}),e}function Pr(){}function Ir(e){return yi(e)?b(Ai(e)):zt(e)}function Mr(){return[]}function Lr(){return!1}fe=null==fe?Ae:He.defaults(Ae.Object(),fe,He.pick(Ae,ye));var Or=fe.Array,Rr=fe.Date,Dr=fe.Error,qr=fe.Function,Br=fe.Math,Fr=fe.Object,Wr=fe.RegExp,Hr=fe.String,Ur=fe.TypeError,zr=Or.prototype,Vr=Fr.prototype,$r=fe["__core-js_shared__"],Kr=qr.prototype.toString,Yr=Vr.hasOwnProperty,Zr=0,Gr=function(){
var e=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Qr=Vr.toString,Jr=Kr.call(Fr),Xr=Ae._,ea=Wr("^"+Kr.call(Yr).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ta=je?fe.Buffer:B,na=fe.Symbol,ia=fe.Uint8Array,ra=ta?ta.g:B,aa=M(Fr.getPrototypeOf,Fr),sa=Fr.create,oa=Vr.propertyIsEnumerable,la=zr.splice,ua=na?na.isConcatSpreadable:B,ca=na?na.iterator:B,fa=na?na.toStringTag:B,da=function(){try{var e=ci(Fr,"defineProperty");return e({},"",{}),e}catch(e){}}(),pa=fe.clearTimeout!==Ae.clearTimeout&&fe.clearTimeout,ha=Rr&&Rr.now!==Ae.Date.now&&Rr.now,ga=fe.setTimeout!==Ae.setTimeout&&fe.setTimeout,ma=Br.ceil,va=Br.floor,ya=Fr.getOwnPropertySymbols,ba=ta?ta.isBuffer:B,_a=fe.isFinite,wa=zr.join,ka=M(Fr.keys,Fr),xa=Br.max,Ea=Br.min,Ta=Rr.now,Aa=fe.parseInt,Ca=Br.random,Sa=zr.reverse,ja=ci(fe,"DataView"),Na=ci(fe,"Map"),Pa=ci(fe,"Promise"),Ia=ci(fe,"Set"),Ma=ci(fe,"WeakMap"),La=ci(Fr,"create"),Oa=Ma&&new Ma,Ra={},Da=Ci(ja),qa=Ci(Na),Ba=Ci(Pa),Fa=Ci(Ia),Wa=Ci(Ma),Ha=na?na.prototype:B,Ua=Ha?Ha.valueOf:B,za=Ha?Ha.toString:B,Va=function(){function e(){}return function(t){return ar(t)?sa?sa(t):(e.prototype=t,t=new e,e.prototype=B,t):{}}}();he.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:K,variable:"",imports:{_:he}},he.prototype=we.prototype,he.prototype.constructor=he,Ee.prototype=Va(we.prototype),Ee.prototype.constructor=Ee,Te.prototype=Va(we.prototype),Te.prototype.constructor=Te,Ce.prototype.clear=function(){this.__data__=La?La(null):{},this.size=0},Ce.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Ce.prototype.get=function(e){var t=this.__data__;return La?(e=t[e],"__lodash_hash_undefined__"===e?B:e):Yr.call(t,e)?t[e]:B},Ce.prototype.has=function(e){var t=this.__data__;return La?t[e]!==B:Yr.call(t,e)},Ce.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=La&&t===B?"__lodash_hash_undefined__":t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__;return!(0>(e=Ze(t,e))||(e==t.length-1?t.pop():la.call(t,e,1),--this.size,0))},Se.prototype.get=function(e){var t=this.__data__;return e=Ze(t,e),0>e?B:t[e][1]},Se.prototype.has=function(e){return-1<Ze(this.__data__,e)},Se.prototype.set=function(e,t){var n=this.__data__,i=Ze(n,e);return 0>i?(++this.size,n.push([e,t])):n[i][1]=t,this},Ne.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(Na||Se),string:new Ce}},Ne.prototype.delete=function(e){return e=li(this,e).delete(e),this.size-=e?1:0,e},Ne.prototype.get=function(e){return li(this,e).get(e)},Ne.prototype.has=function(e){return li(this,e).has(e)},Ne.prototype.set=function(e,t){var n=li(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pe.prototype.has=function(e){return this.__data__.has(e)},qe.prototype.clear=function(){this.__data__=new Se,this.size=0},qe.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},qe.prototype.get=function(e){return this.__data__.get(e)},qe.prototype.has=function(e){return this.__data__.has(e)},qe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Se){var i=n.__data__;if(!Na||199>i.length)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ne(i)}return n.set(e,t),this.size=n.size,this};var $a=Nn(ft),Ka=Nn(dt,!0),Ya=Pn(),Za=Pn(!0),Ga=Oa?function(e,t){return Oa.set(e,t),e}:Sr,Qa=da?function(e,t){return da(e,"toString",{configurable:!0,enumerable:!1,value:Cr(t),writable:!0})}:Sr,Ja=pa||function(e){return Ae.clearTimeout(e)},Xa=Ia&&1/O(new Ia([,-0]))[1]==F?function(e){return new Ia(e)}:Pr,es=Oa?function(e){return Oa.get(e)}:Pr,ts=ya?function(e){return null==e?[]:(e=Fr(e),a(ya(e),function(t){return oa.call(e,t)}))}:Mr,ns=ya?function(e){for(var t=[];e;)u(t,ts(e)),e=aa(e);return t}:Mr,is=mt;(ja&&"[object DataView]"!=is(new ja(new ArrayBuffer(1)))||Na&&"[object Map]"!=is(new Na)||Pa&&"[object Promise]"!=is(Pa.resolve())||Ia&&"[object Set]"!=is(new Ia)||Ma&&"[object WeakMap]"!=is(new Ma))&&(is=function(e){var t=mt(e);if(e=(e="[object Object]"==t?e.constructor:B)?Ci(e):"")switch(e){case Da:return"[object DataView]";case qa:return"[object Map]";case Ba:return"[object Promise]";case Fa:return"[object Set]";case Wa:return"[object WeakMap]"}return t});var rs=$r?nr:Lr,as=Ei(Ga),ss=ga||function(e,t){return Ae.setTimeout(e,t)},os=Ei(Qa),ls=function(e){e=Gi(e,function(e){return 500===t.size&&t.clear(),e});var t=e.cache;return e}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,n,i,r){t.push(i?r.replace(/\\(\\)?/g,"$1"):n||e)}),t}),us=Zt(function(e,t){return er(e)?st(e,ct(t,1,er,!0)):[]}),cs=Zt(function(e,t){var n=Li(t);return er(n)&&(n=B),er(e)?st(e,ct(t,1,er,!0),oi(n,2)):[]}),fs=Zt(function(e,t){var n=Li(t);return er(n)&&(n=B),er(e)?st(e,ct(t,1,er,!0),B,n):[]}),ds=Zt(function(e){var t=l(e,hn);return t.length&&t[0]===e[0]?_t(t):[]}),ps=Zt(function(e){var t=Li(e),n=l(e,hn);return t===Li(n)?t=B:n.pop(),n.length&&n[0]===e[0]?_t(n,oi(t,2)):[]}),hs=Zt(function(e){var t=Li(e),n=l(e,hn);return(t="function"==typeof t?t:B)&&n.pop(),n.length&&n[0]===e[0]?_t(n,B,t):[]}),gs=Zt(Oi),ms=ni(function(e,t){var n=null==e?0:e.length,i=et(e,t);return $t(e,l(t,function(e){return mi(e,n)?+e:e}).sort(wn)),i}),vs=Zt(function(e){return ln(ct(e,1,er,!0))}),ys=Zt(function(e){var t=Li(e);return er(t)&&(t=B),ln(ct(e,1,er,!0),oi(t,2))}),bs=Zt(function(e){var t=Li(e),t="function"==typeof t?t:B;return ln(ct(e,1,er,!0),B,t)}),_s=Zt(function(e,t){return er(e)?st(e,t):[]}),ws=Zt(function(e){return dn(a(e,er))}),ks=Zt(function(e){var t=Li(e);return er(t)&&(t=B),dn(a(e,er),oi(t,2))}),xs=Zt(function(e){var t=Li(e),t="function"==typeof t?t:B;return dn(a(e,er),B,t)}),Es=Zt(Di),Ts=Zt(function(e){var t=e.length,t=1<t?e[t-1]:B,t="function"==typeof t?(e.pop(),t):B;return qi(e,t)}),As=ni(function(e){function t(t){return et(t,e)}var n=e.length,i=n?e[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof Te&&mi(i)?(r=r.slice(i,+i+(n?1:0)),r.__actions__.push({func:Fi,args:[t],thisArg:B}),new Ee(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(B),e})):this.thru(t)}),Cs=Sn(function(e,t,n){Yr.call(e,n)?++e[n]:Xe(e,n,1)}),Ss=Dn(Ni),js=Dn(Pi),Ns=Sn(function(e,t,n){Yr.call(e,n)?e[n].push(t):Xe(e,n,[t])}),Ps=Zt(function(t,n,i){var r=-1,a="function"==typeof n,s=Xi(t)?Or(t.length):[];return $a(t,function(t){s[++r]=a?e(n,t,i):kt(t,n,i)}),s}),Is=Sn(function(e,t,n){Xe(e,n,t)}),Ms=Sn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ls=Zt(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&vi(e,t[0],t[1])?t=[]:2<n&&vi(t[0],t[1],t[2])&&(t=[t[0]]),Wt(e,ct(t,1),[])}),Os=ha||function(){return Ae.Date.now()},Rs=Zt(function(e,t,n){var i=1;if(n.length)var r=L(n,si(Rs)),i=32|i;return Gn(e,i,t,n,r)}),Ds=Zt(function(e,t,n){var i=3;if(n.length)var r=L(n,si(Ds)),i=32|i;return Gn(t,i,e,n,r)}),qs=Zt(function(e,t){return at(e,1,t)}),Bs=Zt(function(e,t,n){return at(e,gr(t)||0,n)});Gi.Cache=Ne;var Fs=Zt(function(t,n){n=1==n.length&&Ks(n[0])?l(n[0],A(oi())):l(ct(n,1),A(oi()));var i=n.length;return Zt(function(r){for(var a=-1,s=Ea(r.length,i);++a<s;)r[a]=n[a].call(this,r[a]);return e(t,this,r)})}),Ws=Zt(function(e,t){return Gn(e,32,B,t,L(t,si(Ws)))}),Hs=Zt(function(e,t){return Gn(e,64,B,t,L(t,si(Hs)))}),Us=ni(function(e,t){return Gn(e,256,B,B,B,t)}),zs=$n(vt),Vs=$n(function(e,t){return e>=t}),$s=xt(function(){return arguments}())?xt:function(e){return sr(e)&&Yr.call(e,"callee")&&!oa.call(e,"callee")},Ks=Or.isArray,Ys=Ie?A(Ie):Et,Zs=ba||Lr,Gs=Me?A(Me):Tt,Qs=Le?A(Le):Ct,Js=Oe?A(Oe):Nt,Xs=Re?A(Re):Pt,eo=De?A(De):It,to=$n(Ot),no=$n(function(e,t){return e<=t}),io=jn(function(e,t){if(_i(t)||Xi(t))Tn(t,_r(t),e);else for(var n in t)Yr.call(t,n)&&Ye(e,n,t[n])}),ro=jn(function(e,t){Tn(t,wr(t),e)}),ao=jn(function(e,t,n,i){Tn(t,wr(t),e,i)}),so=jn(function(e,t,n,i){Tn(t,_r(t),e,i)}),oo=ni(et),lo=Zt(function(e,t){e=Fr(e);var n=-1,i=t.length,r=2<i?t[2]:B;for(r&&vi(t[0],t[1],r)&&(i=1);++n<i;)for(var r=t[n],a=wr(r),s=-1,o=a.length;++s<o;){var l=a[s],u=e[l];(u===B||Ji(u,Vr[l])&&!Yr.call(e,l))&&(e[l]=r[l])}return e}),uo=Zt(function(t){return t.push(B,Jn),e(go,B,t)}),co=Fn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Qr.call(t)),e[t]=n},Cr(Sr)),fo=Fn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Qr.call(t)),Yr.call(e,t)?e[t].push(n):e[t]=[n]},oi),po=Zt(kt),ho=jn(function(e,t,n){Bt(e,t,n)}),go=jn(function(e,t,n,i){Bt(e,t,n,i)}),mo=ni(function(e,t){var n={};if(null==e)return n;var i=!1;t=l(t,function(t){return t=mn(t,e),i||(i=1<t.length),t}),Tn(e,ri(e),n),i&&(n=nt(n,7,Xn));for(var r=t.length;r--;)un(n,t[r]);return n}),vo=ni(function(e,t){return null==e?{}:Ht(e,t)}),yo=Zn(_r),bo=Zn(wr),_o=Ln(function(e,t,n){return t=t.toLowerCase(),e+(n?Er(t):t)}),wo=Ln(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ko=Ln(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),xo=Mn("toLowerCase"),Eo=Ln(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),To=Ln(function(e,t,n){return e+(n?" ":"")+Co(t)}),Ao=Ln(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Co=Mn("toUpperCase"),So=Zt(function(t,n){try{return e(t,B,n)}catch(e){return tr(e)?e:new Dr(e)}}),jo=ni(function(e,t){return n(t,function(t){t=Ai(t),Xe(e,t,Rs(e[t],e))}),e}),No=qn(),Po=qn(!0),Io=Zt(function(e,t){return function(n){return kt(n,e,t)}}),Mo=Zt(function(e,t){return function(n){return kt(e,n,t)}}),Lo=Hn(l),Oo=Hn(r),Ro=Hn(d),Do=Vn(),qo=Vn(!0),Bo=Wn(function(e,t){return e+t},0),Fo=Yn("ceil"),Wo=Wn(function(e,t){return e/t},1),Ho=Yn("floor"),Uo=Wn(function(e,t){return e*t},1),zo=Yn("round"),Vo=Wn(function(e,t){return e-t},0);return he.after=function(e,t){if("function"!=typeof t)throw new Ur("Expected a function");return e=pr(e),function(){if(1>--e)return t.apply(this,arguments)}},he.ary=Vi,he.assign=io,he.assignIn=ro,he.assignInWith=ao,he.assignWith=so,he.at=oo,he.before=$i,he.bind=Rs,he.bindAll=jo,he.bindKey=Ds,he.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ks(e)?e:[e]},he.chain=Bi,he.chunk=function(e,t,n){if(t=(n?vi(e,t,n):t===B)?1:xa(pr(t),0),!(n=null==e?0:e.length)||1>t)return[];for(var i=0,r=0,a=Or(ma(n/t));i<n;)a[r++]=en(e,i,i+=t);return a},he.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},he.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Or(e-1),n=arguments[0];e--;)t[e-1]=arguments[e];return u(Ks(n)?En(n):[n],ct(t,1))},he.cond=function(t){var n=null==t?0:t.length,i=oi();return t=n?l(t,function(e){if("function"!=typeof e[1])throw new Ur("Expected a function");return[i(e[0]),e[1]]}):[],Zt(function(i){for(var r=-1;++r<n;){var a=t[r];if(e(a[0],this,i))return e(a[1],this,i)}})},he.conforms=function(e){return it(nt(e,1))},he.constant=Cr,he.countBy=Cs,he.create=function(e,t){var n=Va(e);return null==t?n:Qe(n,t)},he.curry=Ki,he.curryRight=Yi,he.debounce=Zi,he.defaults=lo,he.defaultsDeep=uo,he.defer=qs,he.delay=Bs,he.difference=us,he.differenceBy=cs,he.differenceWith=fs,he.drop=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===B?1:pr(t),en(e,0>t?0:t,i)):[]},he.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===B?1:pr(t),t=i-t,en(e,0,0>t?0:t)):[]},he.dropRightWhile=function(e,t){return e&&e.length?cn(e,oi(t,3),!0,!0):[]},he.dropWhile=function(e,t){return e&&e.length?cn(e,oi(t,3),!0):[]},he.fill=function(e,t,n,i){var r=null==e?0:e.length;if(!r)return[];for(n&&"number"!=typeof n&&vi(e,t,n)&&(n=0,i=r),r=e.length,n=pr(n),0>n&&(n=-n>r?0:r+n),i=i===B||i>r?r:pr(i),0>i&&(i+=r),i=n>i?0:hr(i);n<i;)e[n++]=t;return e},he.filter=function(e,t){return(Ks(e)?a:ut)(e,oi(t,3))},he.flatMap=function(e,t){return ct(zi(e,t),1)},he.flatMapDeep=function(e,t){return ct(zi(e,t),F)},he.flatMapDepth=function(e,t,n){return n=n===B?1:pr(n),ct(zi(e,t),n)},he.flatten=Ii,he.flattenDeep=function(e){return(null==e?0:e.length)?ct(e,F):[]},he.flattenDepth=function(e,t){return null!=e&&e.length?(t=t===B?1:pr(t),ct(e,t)):[]},he.flip=function(e){return Gn(e,512)},he.flow=No,he.flowRight=Po,he.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},he.functions=function(e){return null==e?[]:pt(e,_r(e))},he.functionsIn=function(e){return null==e?[]:pt(e,wr(e))},he.groupBy=Ns,he.initial=function(e){return(null==e?0:e.length)?en(e,0,-1):[]},he.intersection=ds,he.intersectionBy=ps,he.intersectionWith=hs,he.invert=co,he.invertBy=fo,he.invokeMap=Ps,he.iteratee=jr,he.keyBy=Is,he.keys=_r,he.keysIn=wr,he.map=zi,he.mapKeys=function(e,t){var n={};return t=oi(t,3),ft(e,function(e,i,r){Xe(n,t(e,i,r),e)}),n},he.mapValues=function(e,t){var n={};return t=oi(t,3),ft(e,function(e,i,r){Xe(n,i,t(e,i,r))}),n},he.matches=function(e){return Dt(nt(e,1))},he.matchesProperty=function(e,t){return qt(e,nt(t,1))},he.memoize=Gi,he.merge=ho,he.mergeWith=go,he.method=Io,he.methodOf=Mo,he.mixin=Nr,he.negate=Qi,he.nthArg=function(e){return e=pr(e),Zt(function(t){return Ft(t,e)})},he.omit=mo,he.omitBy=function(e,t){return kr(e,Qi(oi(t)))},he.once=function(e){return $i(2,e)},he.orderBy=function(e,t,n,i){return null==e?[]:(Ks(t)||(t=null==t?[]:[t]),n=i?B:n,Ks(n)||(n=null==n?[]:[n]),Wt(e,t,n))},he.over=Lo,he.overArgs=Fs,he.overEvery=Oo,he.overSome=Ro,he.partial=Ws,he.partialRight=Hs,he.partition=Ms,he.pick=vo,he.pickBy=kr,he.property=Ir,he.propertyOf=function(e){return function(t){return null==e?B:ht(e,t)}},he.pull=gs,he.pullAll=Oi,he.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vt(e,t,oi(n,2)):e},he.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vt(e,t,B,n):e},he.pullAt=ms,he.range=Do,he.rangeRight=qo,he.rearg=Us,he.reject=function(e,t){return(Ks(e)?a:ut)(e,Qi(oi(t,3)))},he.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=oi(t,3);++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return $t(e,r),n},he.rest=function(e,t){if("function"!=typeof e)throw new Ur("Expected a function");return t=t===B?t:pr(t),Zt(e,t)},he.reverse=Ri,he.sampleSize=function(e,t,n){return t=(n?vi(e,t,n):t===B)?1:pr(t),(Ks(e)?Ve:Qt)(e,t)},he.set=function(e,t,n){return null==e?e:Jt(e,t,n)},he.setWith=function(e,t,n,i){return i="function"==typeof i?i:B,null==e?e:Jt(e,t,n,i)},he.shuffle=function(e){return(Ks(e)?$e:Xt)(e)},he.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&vi(e,t,n)?(t=0,n=i):(t=null==t?0:pr(t),n=n===B?i:pr(n)),en(e,t,n)):[]},he.sortBy=Ls,he.sortedUniq=function(e){return e&&e.length?an(e):[]},he.sortedUniqBy=function(e,t){return e&&e.length?an(e,oi(t,2)):[]},he.split=function(e,t,n){return n&&"number"!=typeof n&&vi(e,t,n)&&(t=n=B),n=n===B?4294967295:n>>>0,n?(e=vr(e))&&("string"==typeof t||null!=t&&!Js(t))&&!(t=on(t))&&me.test(e)?vn(q(e),0,n):e.split(t,n):[]},he.spread=function(t,n){if("function"!=typeof t)throw new Ur("Expected a function");return n=null==n?0:xa(pr(n),0),Zt(function(i){var r=i[n];return i=vn(i,0,n),r&&u(i,r),e(t,this,i)})},he.tail=function(e){var t=null==e?0:e.length;return t?en(e,1,t):[]},he.take=function(e,t,n){return e&&e.length?(t=n||t===B?1:pr(t),en(e,0,0>t?0:t)):[]},he.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===B?1:pr(t),t=i-t,en(e,0>t?0:t,i)):[]},he.takeRightWhile=function(e,t){return e&&e.length?cn(e,oi(t,3),!1,!0):[]},he.takeWhile=function(e,t){return e&&e.length?cn(e,oi(t,3)):[]},he.tap=function(e,t){return t(e),e},he.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Ur("Expected a function");return ar(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Zi(e,t,{leading:i,maxWait:t,trailing:r})},he.thru=Fi,he.toArray=fr,he.toPairs=yo,he.toPairsIn=bo,he.toPath=function(e){return Ks(e)?l(e,Ai):cr(e)?[e]:En(ls(vr(e)))},he.toPlainObject=mr,he.transform=function(e,t,i){var r=Ks(e),a=r||Zs(e)||eo(e);if(t=oi(t,4),null==i){var s=e&&e.constructor;i=a?r?new s:[]:ar(e)&&nr(s)?Va(aa(e)):{}}return(a?n:ft)(e,function(e,n,r){return t(i,e,n,r)}),i},he.unary=function(e){return Vi(e,1)},he.union=vs,he.unionBy=ys,he.unionWith=bs,he.uniq=function(e){return e&&e.length?ln(e):[]},he.uniqBy=function(e,t){return e&&e.length?ln(e,oi(t,2)):[]},he.uniqWith=function(e,t){return t="function"==typeof t?t:B,e&&e.length?ln(e,B,t):[]},he.unset=function(e,t){return null==e||un(e,t)},he.unzip=Di,he.unzipWith=qi,he.update=function(e,t,n){return null==e?e:Jt(e,t,gn(n)(ht(e,t)),void 0)},he.updateWith=function(e,t,n,i){return i="function"==typeof i?i:B,null!=e&&(e=Jt(e,t,gn(n)(ht(e,t)),i)),e},he.values=xr,he.valuesIn=function(e){return null==e?[]:C(e,wr(e))},he.without=_s,he.words=Ar,he.wrap=function(e,t){return Ws(gn(t),e)},he.xor=ws,he.xorBy=ks,he.xorWith=xs,he.zip=Es,he.zipObject=function(e,t){return pn(e||[],t||[],Ye)},he.zipObjectDeep=function(e,t){return pn(e||[],t||[],Jt)},he.zipWith=Ts,he.entries=yo,he.entriesIn=bo,he.extend=ro,he.extendWith=ao,Nr(he,he),he.add=Bo,he.attempt=So,he.camelCase=_o,he.capitalize=Er,he.ceil=Fo,he.clamp=function(e,t,n){return n===B&&(n=t,t=B),n!==B&&(n=gr(n),n=n===n?n:0),t!==B&&(t=gr(t),t=t===t?t:0),tt(gr(e),t,n)},he.clone=function(e){return nt(e,4)},he.cloneDeep=function(e){return nt(e,5)},he.cloneDeepWith=function(e,t){return t="function"==typeof t?t:B,nt(e,5,t)},he.cloneWith=function(e,t){return t="function"==typeof t?t:B,nt(e,4,t)},he.conformsTo=function(e,t){return null==t||rt(e,t,_r(t))},he.deburr=Tr,he.defaultTo=function(e,t){return null==e||e!==e?t:e},he.divide=Wo,he.endsWith=function(e,t,n){e=vr(e),t=on(t);var i=e.length,i=n=n===B?i:tt(pr(n),0,i);return 0<=(n-=t.length)&&e.slice(n,i)==t},he.eq=Ji,he.escape=function(e){return(e=vr(e))&&$.test(e)?e.replace(z,Fe):e},he.escapeRegExp=function(e){return(e=vr(e))&&Q.test(e)?e.replace(G,"\\$&"):e},he.every=function(e,t,n){var i=Ks(e)?r:ot;return n&&vi(e,t,n)&&(t=B),i(e,oi(t,3))},he.find=Ss,he.findIndex=Ni,he.findKey=function(e,t){return p(e,oi(t,3),ft)},he.findLast=js,he.findLastIndex=Pi,he.findLastKey=function(e,t){return p(e,oi(t,3),dt)},he.floor=Ho,he.forEach=Hi,he.forEachRight=Ui,he.forIn=function(e,t){return null==e?e:Ya(e,oi(t,3),wr)},he.forInRight=function(e,t){return null==e?e:Za(e,oi(t,3),wr)},he.forOwn=function(e,t){return e&&ft(e,oi(t,3))},he.forOwnRight=function(e,t){return e&&dt(e,oi(t,3))},he.get=yr,he.gt=zs,he.gte=Vs,he.has=function(e,t){return null!=e&&fi(e,t,yt)},he.hasIn=br,he.head=Mi,he.identity=Sr,he.includes=function(e,t,n,i){return e=Xi(e)?e:xr(e),n=n&&!i?pr(n):0,i=e.length,0>n&&(n=xa(i+n,0)),ur(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<g(e,t,n)},he.indexOf=function(e,t,n){var i=null==e?0:e.length;return i?(n=null==n?0:pr(n),0>n&&(n=xa(i+n,0)),g(e,t,n)):-1},he.inRange=function(e,t,n){return t=dr(t),n===B?(n=t,t=0):n=dr(n),(e=gr(e))>=Ea(t,n)&&e<xa(t,n)},he.invoke=po,he.isArguments=$s,he.isArray=Ks,he.isArrayBuffer=Ys,he.isArrayLike=Xi,he.isArrayLikeObject=er,he.isBoolean=function(e){return!0===e||!1===e||sr(e)&&"[object Boolean]"==mt(e)},he.isBuffer=Zs,he.isDate=Gs,he.isElement=function(e){return sr(e)&&1===e.nodeType&&!lr(e)},he.isEmpty=function(e){if(null==e)return!0;if(Xi(e)&&(Ks(e)||"string"==typeof e||"function"==typeof e.splice||Zs(e)||eo(e)||$s(e)))return!e.length;var t=is(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(_i(e))return!Lt(e).length;for(var n in e)if(Yr.call(e,n))return!1;return!0},he.isEqual=function(e,t){return At(e,t)},he.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:B)?n(e,t):B;return i===B?At(e,t,B,n):!!i},he.isError=tr,he.isFinite=function(e){return"number"==typeof e&&_a(e)},he.isFunction=nr,he.isInteger=ir,he.isLength=rr,he.isMap=Qs,he.isMatch=function(e,t){return e===t||St(e,t,ui(t))},he.isMatchWith=function(e,t,n){return n="function"==typeof n?n:B,St(e,t,ui(t),n)},he.isNaN=function(e){return or(e)&&e!=+e},he.isNative=function(e){if(rs(e))throw new Dr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jt(e)},he.isNil=function(e){return null==e},he.isNull=function(e){return null===e},he.isNumber=or,he.isObject=ar,he.isObjectLike=sr,he.isPlainObject=lr,he.isRegExp=Js,he.isSafeInteger=function(e){return ir(e)&&-9007199254740991<=e&&9007199254740991>=e},he.isSet=Xs,he.isString=ur,he.isSymbol=cr,he.isTypedArray=eo,he.isUndefined=function(e){return e===B},he.isWeakMap=function(e){return sr(e)&&"[object WeakMap]"==is(e)},he.isWeakSet=function(e){return sr(e)&&"[object WeakSet]"==mt(e)},he.join=function(e,t){return null==e?"":wa.call(e,t)},he.kebabCase=wo,he.last=Li,he.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;if(n!==B&&(r=pr(n),r=0>r?xa(i+r,0):Ea(r,i-1)),t===t){for(n=r+1;n--&&e[n]!==t;);e=n}else e=h(e,v,r,!0);return e},he.lowerCase=ko,he.lowerFirst=xo,he.lt=to,he.lte=no,he.max=function(e){return e&&e.length?lt(e,Sr,vt):B},he.maxBy=function(e,t){return e&&e.length?lt(e,oi(t,2),vt):B},he.mean=function(e){return y(e,Sr)},he.meanBy=function(e,t){return y(e,oi(t,2))},he.min=function(e){return e&&e.length?lt(e,Sr,Ot):B},he.minBy=function(e,t){return e&&e.length?lt(e,oi(t,2),Ot):B},he.stubArray=Mr,he.stubFalse=Lr,he.stubObject=function(){return{}},he.stubString=function(){return""},he.stubTrue=function(){return!0},he.multiply=Uo,he.nth=function(e,t){return e&&e.length?Ft(e,pr(t)):B},he.noConflict=function(){return Ae._===this&&(Ae._=Xr),this},he.noop=Pr,he.now=Os,he.pad=function(e,t,n){e=vr(e);var i=(t=pr(t))?D(e):0;return!t||i>=t?e:(t=(t-i)/2,Un(va(t),n)+e+Un(ma(t),n))},he.padEnd=function(e,t,n){e=vr(e);var i=(t=pr(t))?D(e):0;return t&&i<t?e+Un(t-i,n):e},he.padStart=function(e,t,n){e=vr(e);var i=(t=pr(t))?D(e):0;return t&&i<t?Un(t-i,n)+e:e},he.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Aa(vr(e).replace(/^\s+/,""),t||0)},he.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vi(e,t,n)&&(t=n=B),n===B&&("boolean"==typeof t?(n=t,t=B):"boolean"==typeof e&&(n=e,e=B)),e===B&&t===B?(e=0,t=1):(e=dr(e),t===B?(t=e,e=0):t=dr(t)),e>t){var i=e;e=t,t=i}return n||e%1||t%1?(n=Ca(),Ea(e+n*(t-e+ke("1e-"+((n+"").length-1))),t)):Kt(e,t)},he.reduce=function(e,t,n){var i=Ks(e)?c:w,r=3>arguments.length;return i(e,oi(t,4),n,r,$a)},he.reduceRight=function(e,t,n){var i=Ks(e)?f:w,r=3>arguments.length;return i(e,oi(t,4),n,r,Ka)},he.repeat=function(e,t,n){return t=(n?vi(e,t,n):t===B)?1:pr(t),Yt(vr(e),t)},he.replace=function(){var e=arguments,t=vr(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},he.result=function(e,t,n){t=mn(t,e);var i=-1,r=t.length;for(r||(r=1,e=B);++i<r;){var a=null==e?B:e[Ai(t[i])];a===B&&(i=r,a=n),e=nr(a)?a.call(e):a}return e},he.round=zo,he.runInContext=_,he.sample=function(e){return(Ks(e)?ze:Gt)(e)},he.size=function(e){if(null==e)return 0;if(Xi(e))return ur(e)?D(e):e.length;var t=is(e);return"[object Map]"==t||"[object Set]"==t?e.size:Lt(e).length},he.snakeCase=Eo,he.some=function(e,t,n){var i=Ks(e)?d:tn;return n&&vi(e,t,n)&&(t=B),i(e,oi(t,3))},he.sortedIndex=function(e,t){return nn(e,t)},he.sortedIndexBy=function(e,t,n){return rn(e,t,oi(n,2))},he.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=nn(e,t);if(i<n&&Ji(e[i],t))return i}return-1},he.sortedLastIndex=function(e,t){return nn(e,t,!0)},he.sortedLastIndexBy=function(e,t,n){return rn(e,t,oi(n,2),!0)},he.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=nn(e,t,!0)-1;if(Ji(e[n],t))return n}return-1},he.startCase=To,he.startsWith=function(e,t,n){return e=vr(e),n=null==n?0:tt(pr(n),0,e.length),t=on(t),e.slice(n,n+t.length)==t},he.subtract=Vo,he.sum=function(e){return e&&e.length?x(e,Sr):0},he.sumBy=function(e,t){return e&&e.length?x(e,oi(t,2)):0},he.template=function(e,t,n){var i=he.templateSettings;n&&vi(e,t,n)&&(t=B),e=vr(e),t=ao({},t,i,Qn),n=ao({},t.imports,i.imports,Qn);var r,a,s=_r(n),o=C(n,s),l=0;n=t.interpolate||ce;var u="__p+='";n=Wr((t.escape||ce).source+"|"+n.source+"|"+(n===K?/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g:ce).source+"|"+(t.evaluate||ce).source+"|$","g");var c="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,n,i,s,o,c){return i||(i=s),u+=e.slice(l,c).replace(/['\n\r\u2028\u2029\\]/g,P),n&&(r=!0,u+="'+__e("+n+")+'"),o&&(a=!0,u+="';"+o+";\n__p+='"),i&&(u+="'+((__t=("+i+"))==null?'':__t)+'"),l=c+t.length,t}),u+="';",(t=t.variable)||(u="with(obj){"+u+"}"),u=(a?u.replace(/\b__p\+='';/g,""):u).replace(/\b(__p\+=)''\+/g,"$1").replace(/(__e\(.*?\)|\b__t\))\+'';/g,"$1;"),u="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(r?",__e=_.escape":"")+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}",t=So(function(){return qr(s,c+"return "+u).apply(B,o)}),t.source=u,tr(t))throw t;return t},he.times=function(e,t){if(1>(e=pr(e))||9007199254740991<e)return[];var n=4294967295,i=Ea(e,4294967295);for(t=oi(t),e-=4294967295,i=E(i,t);++n<e;)t(n);return i},he.toFinite=dr,he.toInteger=pr,he.toLength=hr,he.toLower=function(e){return vr(e).toLowerCase()},he.toNumber=gr,he.toSafeInteger=function(e){return e?tt(pr(e),-9007199254740991,9007199254740991):0===e?e:0},he.toString=vr,he.toUpper=function(e){return vr(e).toUpperCase()},he.trim=function(e,t,n){return(e=vr(e))&&(n||t===B)?e.replace(J,""):e&&(t=on(t))?(e=q(e),n=q(t),t=j(e,n),n=N(e,n)+1,vn(e,t,n).join("")):e},he.trimEnd=function(e,t,n){return(e=vr(e))&&(n||t===B)?e.replace(/\s+$/,""):e&&(t=on(t))?(e=q(e),t=N(e,q(t))+1,vn(e,0,t).join("")):e},he.trimStart=function(e,t,n){return(e=vr(e))&&(n||t===B)?e.replace(/^\s+/,""):e&&(t=on(t))?(e=q(e),t=j(e,q(t)),vn(e,t).join("")):e},he.truncate=function(e,t){var n=30,i="...";if(ar(t))var r="separator"in t?t.separator:r,n="length"in t?pr(t.length):n,i="omission"in t?on(t.omission):i;e=vr(e);var a=e.length;if(me.test(e))var s=q(e),a=s.length;if(n>=a)return e;if(1>(a=n-D(i)))return i;if(n=s?vn(s,0,a).join(""):e.slice(0,a),r===B)return n+i;if(s&&(a+=n.length-a),Js(r)){if(e.slice(a).search(r)){var o=n;for(r.global||(r=Wr(r.source,vr(ie.exec(r))+"g")),r.lastIndex=0;s=r.exec(o);)var l=s.index;n=n.slice(0,l===B?a:l)}}else e.indexOf(on(r),a)!=a&&-1<(r=n.lastIndexOf(r))&&(n=n.slice(0,r));return n+i},he.unescape=function(e){return(e=vr(e))&&V.test(e)?e.replace(U,We):e},he.uniqueId=function(e){var t=++Zr;return vr(e)+t},he.upperCase=Ao,he.upperFirst=Co,he.each=Hi,he.eachRight=Ui,he.first=Mi,Nr(he,function(){var e={};return ft(he,function(t,n){Yr.call(he.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),he.VERSION="4.17.10",n("bind bindKey curry curryRight partial partialRight".split(" "),function(e){he[e].placeholder=he}),n(["drop","take"],function(e,t){Te.prototype[e]=function(n){n=n===B?1:xa(pr(n),0);var i=this.__filtered__&&!t?new Te(this):this.clone();return i.__filtered__?i.__takeCount__=Ea(n,i.__takeCount__):i.__views__.push({size:Ea(n,4294967295),type:e+(0>i.__dir__?"Right":"")}),i},Te.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),n(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;Te.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oi(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),n(["head","last"],function(e,t){var n="take"+(t?"Right":"");Te.prototype[e]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Te.prototype[e]=function(){return this.__filtered__?new Te(this):this[n](1)}}),Te.prototype.compact=function(){return this.filter(Sr)},Te.prototype.find=function(e){return this.filter(e).head()},Te.prototype.findLast=function(e){return this.reverse().find(e)},Te.prototype.invokeMap=Zt(function(e,t){return"function"==typeof e?new Te(this):this.map(function(n){return kt(n,e,t)})}),Te.prototype.reject=function(e){return this.filter(Qi(oi(e)))},Te.prototype.slice=function(e,t){e=pr(e);var n=this;return n.__filtered__&&(0<e||0>t)?new Te(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==B&&(t=pr(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Te.prototype.toArray=function(){return this.take(4294967295)},ft(Te.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=he[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);r&&(he.prototype[t]=function(){function t(e){return e=r.apply(he,u([e],o)),i&&d?e[0]:e}var s=this.__wrapped__,o=i?[1]:arguments,l=s instanceof Te,c=o[0],f=l||Ks(s);f&&n&&"function"==typeof c&&1!=c.length&&(l=f=!1);var d=this.__chain__,p=!!this.__actions__.length,c=a&&!d,l=l&&!p;return!a&&f?(s=l?s:new Te(this),s=e.apply(s,o),s.__actions__.push({func:Fi,args:[t],thisArg:B}),new Ee(s,d)):c&&l?e.apply(this,o):(s=this.thru(t),c?i?s.value()[0]:s.value():s)})}),n("pop push shift sort splice unshift".split(" "),function(e){var t=zr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);he.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Ks(r)?r:[],e)}return this[n](function(n){return t.apply(Ks(n)?n:[],e)})}}),ft(Te.prototype,function(e,t){var n=he[t];if(n){var i=n.name+"";(Ra[i]||(Ra[i]=[])).push({name:t,func:n})}}),Ra[Bn(B,2).name]=[{name:"wrapper",func:B}],Te.prototype.clone=function(){var e=new Te(this.__wrapped__);return e.__actions__=En(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=En(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=En(this.__views__),e},Te.prototype.reverse=function(){if(this.__filtered__){var e=new Te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},Te.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,i=Ks(t),r=0>n,a=i?t.length:0;e=a;for(var s=this.__views__,o=0,l=-1,u=s.length;++l<u;){var c=s[l],f=c.size;switch(c.type){case"drop":o+=f;break;case"dropRight":e-=f;break;case"take":e=Ea(e,o+f);break;case"takeRight":o=xa(o,e-f)}}if(e={start:o,end:e},s=e.start,o=e.end,e=o-s,s=r?o:s-1,o=this.__iteratees__,l=o.length,u=0,c=Ea(e,this.__takeCount__),!i||!r&&a==e&&c==e)return fn(t,this.__actions__);i=[];e:for(;e--&&u<c;){for(s+=n,r=-1,a=t[s];++r<l;){var d=o[r],f=d.type,d=(0,d.iteratee)(a);if(2==f)a=d;else if(!d){if(1==f)continue e;break e}}i[u++]=a}return i},he.prototype.at=As,he.prototype.chain=function(){return Bi(this)},he.prototype.commit=function(){return new Ee(this.value(),this.__chain__)},he.prototype.next=function(){this.__values__===B&&(this.__values__=fr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?B:this.__values__[this.__index__++]}},he.prototype.plant=function(e){for(var t,n=this;n instanceof we;){var i=ji(n);i.__index__=0,i.__values__=B,t?r.__wrapped__=i:t=i;var r=i,n=n.__wrapped__}return r.__wrapped__=e,t},he.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof Te?(this.__actions__.length&&(e=new Te(this)),e=e.reverse(),e.__actions__.push({func:Fi,args:[Ri],thisArg:B}),new Ee(e,this.__chain__)):this.thru(Ri)},he.prototype.toJSON=he.prototype.valueOf=he.prototype.value=function(){return fn(this.__wrapped__,this.__actions__)},he.prototype.first=he.prototype.head,ca&&(he.prototype[ca]=Wi),he}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ae._=He,define(function(){return He})):Se?((Se.exports=He)._=He,Ce._=He):Ae._=He}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):e.Plyr=t()}(this,function(){"use strict";function e(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;d.is.element(e)&&d.toggleState(e,this.active),d.dispatchEvent(this.target,this.active?"enterfullscreen":"exitfullscreen",!0),m.isIos||d.trapFocus.call(this.player,this.target,this.active)}}function t(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0
}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",d.toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,t),e.call(this)}var n={html5:"html5",youtube:"youtube",vimeo:"vimeo"},i={audio:"audio",video:"video"},r={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.0.10/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:"default",options:["hd2160","hd1440","hd1080","hd720","large","medium","small","tiny","default"]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:window.navigator.language.split("-")[0]},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",speed:"Speed",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",advertisement:"Ad"},urls:{vimeo:{api:"https://player.vimeo.com/api/player.js"},youtube:{api:"https://www.youtube.com/iframe_api"},googleIMA:{api:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","qualityrequested","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress--buffer",played:".plyr__progress--played",loop:".plyr__progress--loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{video:"plyr__video-wrapper",embed:"plyr__video-embed",ads:"plyr__ads",control:"plyr__control",type:"plyr--{0}",provider:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",loading:"plyr--loading",error:"plyr--has-error",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}};"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var a,s,o=(function(e,t){var n;n=function(){function e(e,t){if(e){var n=o[e];if(s[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function t(e,t){e.call&&(e={success:e}),t.length?(e.error||r)(t):(e.success||r)(e)}function n(e,t,i,a){var s,o,l=document,u=i.async,c=(i.numRetries||0)+1,f=i.before||r,d=e.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(e)?(s=!0,(o=l.createElement("link")).rel="stylesheet",o.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(e)?(o=l.createElement("img")).src=d:((o=l.createElement("script")).src=e,o.async=void 0===u||u),o.onload=o.onerror=o.onbeforeload=function(r){var l=r.type[0];if(s&&"hideFocus"in o)try{o.sheet.cssText.length||(l="e")}catch(r){l="e"}if("e"==l&&(a+=1)<c)return n(e,t,i,a);t(e,l,r.defaultPrevented)},!1!==f(e,o)&&l.head.appendChild(o)}function i(i,r,s){var o,l;if(r&&r.trim&&(o=r),l=(o?s:r)||{},o){if(o in a)throw"LoadJS";a[o]=!0}!function(e,t,i){var r,a,s=(e=e.push?e:[e]).length,o=s,l=[];for(r=function(e,n,i){if("e"==n&&l.push(e),"b"==n){if(!i)return;l.push(e)}--s||t(l)},a=0;a<o;a++)n(e[a],r,i)}(i,function(n){t(l,n),e(o,n)},l)}var r=function(){},a={},s={},o={};return i.ready=function(e,n){return function(e,t){var n,i,r,a=[],l=(e=e.push?e:[e]).length,u=l;for(n=function(e,n){n.length&&a.push(e),--u||t(a)};l--;)i=e[l],(r=s[i])?n(i,r):(o[i]=o[i]||[]).push(n)}(e,function(e){t(n,e)}),i},i.done=function(t){e(t,[])},i.reset=function(){a={},s={},o={}},i.isDefined=function(e){return e in a},i},e.exports=n()}(a={exports:{}},a.exports),a.exports),l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d={is:{plyr:function(e){return this.instanceof(e,window.Plyr)},object:function(e){return this.getConstructor(e)===Object},number:function(e){return this.getConstructor(e)===Number&&!Number.isNaN(e)},string:function(e){return this.getConstructor(e)===String},boolean:function(e){return this.getConstructor(e)===Boolean},function:function(e){return this.getConstructor(e)===Function},array:function(e){return!this.nullOrUndefined(e)&&Array.isArray(e)},weakMap:function(e){return this.instanceof(e,window.WeakMap)},nodeList:function(e){return this.instanceof(e,window.NodeList)},element:function(e){return this.instanceof(e,window.Element)},textNode:function(e){return this.getConstructor(e)===Text},event:function(e){return this.instanceof(e,window.Event)},cue:function(e){return this.instanceof(e,window.TextTrackCue)||this.instanceof(e,window.VTTCue)},track:function(e){return this.instanceof(e,TextTrack)||!this.nullOrUndefined(e)&&this.string(e.kind)},url:function(e){return!this.nullOrUndefined(e)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},nullOrUndefined:function(e){return null===e||void 0===e},empty:function(e){return this.nullOrUndefined(e)||(this.string(e)||this.array(e)||this.nodeList(e))&&!e.length||this.object(e)&&!Object.keys(e).length},instanceof:function(e,t){return Boolean(e&&t&&e instanceof t)},getConstructor:function(e){return this.nullOrUndefined(e)?null:e.constructor}},getBrowser:function(){return{isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)}},fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(n,i){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",function(){if("text"===t)try{n(JSON.parse(r.responseText))}catch(e){n(r.responseText)}else n(r.response)}),r.addEventListener("error",function(){throw new Error(r.statusText)}),r.open("GET",e,!0),r.responseType=t,r.send()}catch(e){i(e)}})},loadScript:function(e){return new Promise(function(t,n){o(e,{success:t,error:n})})},loadSprite:function(e,t){function n(e){i&&r()||(this.innerHTML=e,document.body.insertBefore(this,document.body.childNodes[0]))}if(d.is.string(e)){var i=d.is.string(t),r=function(){return document.querySelectorAll("#"+t).length};if(!i||!r()){var a=document.createElement("div");if(d.toggleHidden(a,!0),i&&a.setAttribute("id",t),p.storage){var s=window.localStorage.getItem("cache-"+t);if(null!==s){var o=JSON.parse(s);return void n.call(a,o.content)}}d.fetch(e).then(function(e){d.is.empty(e)||(p.storage&&window.localStorage.setItem("cache-"+t,JSON.stringify({content:e})),n.call(a,e))}).catch(function(){})}}},generateId:function(e){return e+"-"+Math.floor(1e4*Math.random())},wrap:function(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach(function(e,n){var i=n>0?t.cloneNode(!0):t,r=e.parentNode,a=e.nextSibling;i.appendChild(e),a?r.insertBefore(i,a):r.appendChild(i)})},createElement:function(e,t,n){var i=document.createElement(e);return d.is.object(t)&&d.setAttributes(i,t),d.is.string(n)&&(i.textContent=n),i},insertAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},insertElement:function(e,t,n,i){t.appendChild(d.createElement(e,n,i))},removeElement:function(e){d.is.element(e)&&d.is.element(e.parentNode)&&(d.is.nodeList(e)||d.is.array(e)?Array.from(e).forEach(d.removeElement):e.parentNode.removeChild(e))},emptyElement:function(e){for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1},replaceElement:function(e,t){return d.is.element(t)&&d.is.element(t.parentNode)&&d.is.element(e)?(t.parentNode.replaceChild(e,t),e):null},setAttributes:function(e,t){d.is.element(e)&&!d.is.empty(t)&&Object.entries(t).forEach(function(t){var n=f(t,2),i=n[0],r=n[1];e.setAttribute(i,r)})},getAttributesFromSelector:function(e,t){if(!d.is.string(e)||d.is.empty(e))return{};var n={},i=t;return e.split(",").forEach(function(e){var t=e.trim(),r=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),s=a[0],o=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":d.is.object(i)&&d.is.string(i.class)&&(i.class+=" "+r),n.class=r;break;case"#":n.id=t.replace("#","");break;case"[":n[s]=o}}),n},toggleClass:function(e,t,n){if(d.is.element(e)){var i=e.classList.contains(t);return e.classList[n?"add":"remove"](t),n&&!i||!n&&i}return null},hasClass:function(e,t){return d.is.element(e)&&e.classList.contains(t)},toggleHidden:function(e,t){d.is.element(e)&&(t?e.setAttribute("hidden",""):e.removeAttribute("hidden"))},matches:function(e,t){var n={Element:Element};return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)},getElements:function(e){return this.elements.container.querySelectorAll(e)},getElement:function(e){return this.elements.container.querySelector(e)},findElements:function(){try{return this.elements.controls=d.getElement.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:d.getElements.call(this,this.config.selectors.buttons.play),pause:d.getElement.call(this,this.config.selectors.buttons.pause),restart:d.getElement.call(this,this.config.selectors.buttons.restart),rewind:d.getElement.call(this,this.config.selectors.buttons.rewind),fastForward:d.getElement.call(this,this.config.selectors.buttons.fastForward),mute:d.getElement.call(this,this.config.selectors.buttons.mute),pip:d.getElement.call(this,this.config.selectors.buttons.pip),airplay:d.getElement.call(this,this.config.selectors.buttons.airplay),settings:d.getElement.call(this,this.config.selectors.buttons.settings),captions:d.getElement.call(this,this.config.selectors.buttons.captions),fullscreen:d.getElement.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=d.getElement.call(this,this.config.selectors.progress),this.elements.inputs={seek:d.getElement.call(this,this.config.selectors.inputs.seek),volume:d.getElement.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:d.getElement.call(this,this.config.selectors.display.buffer),duration:d.getElement.call(this,this.config.selectors.display.duration),currentTime:d.getElement.call(this,this.config.selectors.display.currentTime)},d.is.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},getFocusElement:function(){var e=document.activeElement;return e=e&&e!==document.body?document.querySelector(":focus"):null},trapFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d.is.element(e)){var n=d.getElements.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),i=n[0],r=n[n.length-1],a=function(e){if("Tab"===e.key&&9===e.keyCode){var t=d.getFocusElement();t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}};t?d.on(this.elements.container,"keydown",a,!1):d.off(this.elements.container,"keydown",a,!1)}},toggleListener:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!d.is.empty(e)&&!d.is.empty(t)&&d.is.function(n))if(d.is.nodeList(e)||d.is.array(e))Array.from(e).forEach(function(e){e instanceof Node&&d.toggleListener.call(null,e,t,n,i,r,a)});else{var s=t.split(" "),o=a;p.passiveListeners&&(o={passive:r,capture:a}),s.forEach(function(t){e[i?"addEventListener":"removeEventListener"](t,n,o)})}},on:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.toggleListener(e,t,n,!0,i,r)},off:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.toggleListener(e,t,n,!1,i,r)},dispatchEvent:function(e,t,n,i){if(d.is.element(e)&&d.is.string(t)){var r=new CustomEvent(t,{bubbles:!!d.is.boolean(n)&&n,detail:Object.assign({},i,{plyr:d.is.plyr(this)?this:null})});e.dispatchEvent(r)}},toggleState:function(e,t){if(d.is.array(e)||d.is.nodeList(e))Array.from(e).forEach(function(e){return d.toggleState(e,t)});else if(d.is.element(e)){var n="true"===e.getAttribute("aria-pressed"),i=d.is.boolean(t)?t:!n;e.setAttribute("aria-pressed",i)}},getPercentage:function(e,t){return 0===e||0===t||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)},getHours:function(e){return parseInt(e/60/60%60,10)},getMinutes:function(e){return parseInt(e/60%60,10)},getSeconds:function(e){return parseInt(e%60,10)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d.is.number(e))return this.formatTime(null,t,n);var i=function(e){return("0"+e).slice(-2)},r=this.getHours(e),a=this.getMinutes(e),s=this.getSeconds(e);return t||r>0?r+=":":r="",(n?"-":"")+r+i(a)+":"+i(s)},replaceAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),n.toString())},toTitleCase:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},toPascalCase:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=d.replaceAll(e,"-"," "),e=d.replaceAll(e,"_"," "),e=d.toTitleCase(e),d.replaceAll(e," ","")},toCamelCase:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=d.toPascalCase(e)).charAt(0).toLowerCase()+e.slice(1)},extend:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var r=n.shift();return d.is.object(r)?(Object.keys(r).forEach(function(t){d.is.object(r[t])?(Object.keys(e).includes(t)||Object.assign(e,c({},t,{})),d.extend(e[t],r[t])):Object.assign(e,c({},t,r[t]))}),d.extend.apply(d,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))):e},getProviderByUrl:function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(e)?n.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{8,}(?=\b|\/)/.test(e)?n.vimeo:null},parseYouTubeId:function(e){return d.is.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e},parseVimeoId:function(e){return d.is.empty(e)?null:d.is.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e},parseUrl:function(e){var t=document.createElement("a");return t.href=e,t},getUrlParams:function(e){var t=e;return(e.startsWith("http://")||e.startsWith("https://"))&&(t=this.parseUrl(e).search),this.is.empty(t)?null:t.slice(t.indexOf("?")+1).split("&").reduce(function(e,t){var n=t.split("="),i=f(n,2),r=i[0],a=i[1];return Object.assign(e,c({},r,decodeURIComponent(a)))},{})},buildUrlParams:function(e){return d.is.object(e)?Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"):""},stripHTML:function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText},getAspectRatio:function(e,t){var n=function e(t,n){return 0===n?t:e(n,t%n)}(e,t);return e/n+":"+t/n},get transitionEndEvent(){var e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find(function(t){return void 0!==e.style[t]});return!!d.is.string(n)&&t[n]},repaint:function(e){setTimeout(function(){d.toggleHidden(e,!0),e.offsetHeight,d.toggleHidden(e,!1)},0)}},p={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=!1,r=!1,a=d.getBrowser(),s=a.isIPhone&&n&&p.inline;switch(t+":"+e){case"html5:video":r=(i=p.video)&&p.rangeInput&&(!a.isIPhone||s);break;case"html5:audio":r=(i=p.audio)&&p.rangeInput;break;case"youtube:video":case"vimeo:video":i=!0,r=p.rangeInput&&(!a.isIPhone||s);break;default:r=(i=p.audio&&p.video)&&p.rangeInput}return{api:i,ui:r}},pip:!d.getBrowser().isIPhone&&d.is.function(d.createElement("video").webkitSetPresentationMode),airplay:d.is.function(window.WebKitPlaybackTargetAvailabilityEvent),inline:"playsInline"in document.createElement("video"),mime:function(e){var t=this.media;try{if(!this.isHTML5||!d.is.function(t.canPlayType))return!1;if(this.isVideo)switch(e){case"video/webm":return t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,"");case"video/mp4":return t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"");case"video/ogg":return t.canPlayType('video/ogg; codecs="theora"').replace(/no/,"");default:return!1}else if(this.isAudio)switch(e){case"audio/mpeg":return t.canPlayType("audio/mpeg;").replace(/no/,"");case"audio/ogg":return t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"");case"audio/wav":return t.canPlayType('audio/wav; codecs="1"').replace(/no/,"");default:return!1}}catch(e){return!1}return!1},textTracks:"textTracks"in document.createElement("video"),passiveListeners:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t)}catch(e){}return e}(),rangeInput:(s=document.createElement("input"),s.type="range","range"===s.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==d.transitionEndEvent,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},h=function(){},g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(this,e),this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}return u(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):h}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):h}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):h}}]),e}(),m=d.getBrowser(),v=function(){function n(t){var i=this;l(this,n),this.player=t,this.prefix=n.prefix,this.name=n.name,this.scrollPosition={x:0,y:0},d.on(document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",function(){e.call(i)}),d.on(this.player.elements.container,"dblclick",function(){i.toggle()}),d.on(this.player.elements.controls,"dblclick",function(e){return e.stopPropagation()}),this.update()}return u(n,[{key:"update",value:function(){this.enabled?this.player.debug.log((n.native?"Native":"Fallback")+" fullscreen enabled"):this.player.debug.log("Fullscreen not supported and fallback disabled"),d.toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(m.isIos&&this.player.config.fullscreen.iosNative?this.player.playing&&this.target.webkitEnterFullscreen():n.native?this.prefix?d.is.empty(this.prefix)||this.target[this.prefix+"Request"+this.name]():this.target.requestFullscreen():t.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(m.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(n.native)if(this.prefix){if(!d.is.empty(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document[""+this.prefix+e+this.name]()}}else document.cancelFullScreen();else t.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(n.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(n.native?(this.prefix?document[""+this.prefix+this.name+"Element"]:document.fullscreenElement)===this.target:d.hasClass(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return m.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(d.is.function(document.exitFullscreen))return!1;var e="";return["webkit","moz","ms"].some(function(t){return!(!d.is.function(document[t+"ExitFullscreen"])&&!d.is.function(document[t+"CancelFullScreen"])||(e=t,0))}),e}},{key:"name",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),n}(),y={setup:function(){if(this.supported.ui){var e=this.storage.get("language");if(d.is.empty(e)||(this.captions.language=e),d.is.empty(this.captions.language)&&(this.captions.language=this.config.captions.language.toLowerCase()),!d.is.boolean(this.captions.active)){var t=this.storage.get("captions");d.is.boolean(t)?this.captions.active=t:this.captions.active=this.config.captions.active}if(!this.isVideo||this.isYouTube||this.isHTML5&&!p.textTracks)d.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&k.setCaptionsMenu.call(this);else{d.is.element(this.elements.captions)||(this.elements.captions=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.captions)),d.insertAfter(this.elements.captions,this.elements.wrapper)),d.toggleClass(this.elements.container,this.config.classNames.captions.enabled,!d.is.empty(y.getTracks.call(this)));var n=y.getTracks.call(this);if(!d.is.empty(n)){if(d.getBrowser().isIE&&window.URL){var i=this.media.querySelectorAll("track");Array.from(i).forEach(function(e){var t=e.getAttribute("src"),n=d.parseUrl(t);n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&d.fetch(t,"blob").then(function(t){e.setAttribute("src",window.URL.createObjectURL(t))}).catch(function(){d.removeElement(e)})})}y.setLanguage.call(this),y.show.call(this),d.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&k.setCaptionsMenu.call(this)}}}},setLanguage:function(){var e=this;if(this.isHTML5&&this.isVideo){y.getTracks.call(this).forEach(function(t){d.on(t,"cuechange",function(t){return y.setCue.call(e,t)}),t.mode="hidden"});var t=y.getCurrentTrack.call(this);d.is.track(t)&&Array.from(t.activeCues||[]).length&&y.setCue.call(this,t)}else this.isVimeo&&this.captions.active&&this.embed.enableTextTrack(this.language)},getTracks:function(){return d.is.nullOrUndefined(this.media)?[]:Array.from(this.media.textTracks||[]).filter(function(e){return["captions","subtitles"].includes(e.kind)})},getCurrentTrack:function(){var e=this;return y.getTracks.call(this).find(function(t){return t.language.toLowerCase()===e.language})},setCue:function(e){var t=d.is.event(e)?e.target:e,n=t.activeCues,i=n.length&&n[0];t===y.getCurrentTrack.call(this)&&(d.is.cue(i)?y.setText.call(this,i.getCueAsHTML()):y.setText.call(this,null),d.dispatchEvent.call(this,this.media,"cuechange"))},setText:function(e){if(this.supported.ui)if(d.is.element(this.elements.captions)){var t=d.createElement("span");d.emptyElement(this.elements.captions);var n=d.is.nullOrUndefined(e)?"":e;d.is.string(n)?t.textContent=n.trim():t.appendChild(n),this.elements.captions.appendChild(t)}else this.debug.warn("No captions element to render to")},show:function(){if(d.is.element(this.elements.buttons.captions)){var e=this.storage.get("captions");d.is.boolean(e)?this.captions.active=e:e=this.config.captions.active,e&&(d.toggleClass(this.elements.container,this.config.classNames.captions.active,!0),d.toggleState(this.elements.buttons.captions,!0))}}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d.is.empty(e)||d.is.empty(t)||!Object.keys(t.i18n).includes(e))return"";var n=t.i18n[e],i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(function(e){var t=f(e,2),i=t[0],r=t[1];n=d.replaceAll(n,i,r)}),n},_={addStyleHook:function(){d.toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),!0),d.toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for "+this.provider+" "+this.type),void _.toggleNativeControls.call(this,!0);d.is.element(this.elements.controls)||(k.inject.call(this),this.listeners.controls()),d.is.element(this.elements.controls)&&(_.toggleNativeControls.call(this),y.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.options.quality=[],_.updateVolume.call(this),_.timeUpdate.call(this),_.checkPlaying.call(this),this.ready=!0,setTimeout(function(){d.dispatchEvent.call(e,e.media,"ready")},0),_.setTitle.call(this))},setTitle:function(){var e=b("play",this.config);if(d.is.string(this.config.title)&&!d.is.empty(this.config.title)&&(e+=", "+this.config.title,this.elements.container.setAttribute("aria-label",this.config.title)),d.is.nodeList(this.elements.buttons.play)&&Array.from(this.elements.buttons.play).forEach(function(t){t.setAttribute("aria-label",e)}),this.isEmbed){var t=d.getElement.call(this,"iframe");if(!d.is.element(t))return;d.is.empty(this.config.title)||this.config.title,t.setAttribute("title",b("frameTitle",this.config))}},checkPlaying:function(){d.toggleClass(this.elements.container,this.config.classNames.playing,this.playing),d.toggleClass(this.elements.container,this.config.classNames.stopped,this.paused),d.toggleState(this.elements.buttons.play,this.playing),this.toggleControls(!this.playing)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){d.toggleClass(t.elements.container,t.config.classNames.loading,t.loading),t.toggleControls(t.loading)},this.loading?250:0)},checkFailed:function(){var e=this;this.failed=3===this.media.networkState,this.failed&&(d.toggleClass(this.elements.container,this.config.classNames.loading,!1),d.toggleClass(this.elements.container,this.config.classNames.error,!0)),clearTimeout(this.timers.failed),this.timers.loading=setTimeout(function(){d.toggleClass(e.elements.container,e.config.classNames.loading,e.loading),e.toggleControls(e.loading)},this.loading?250:0)},updateVolume:function(){this.supported.ui&&(d.is.element(this.elements.inputs.volume)&&_.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),d.is.element(this.elements.buttons.mute)&&d.toggleState(this.elements.buttons.mute,this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d.is.element(e)&&(e.value=t,k.updateRangeFill.call(this,e))},setProgress:function(e,t){var n=d.is.number(t)?t:0,i=d.is.element(e)?e:this.elements.display.buffer;if(d.is.element(i)){i.value=n;var r=i.getElementsByTagName("span")[0];d.is.element(r)&&(r.childNodes[0].nodeValue=n)}},updateProgress:function(e){if(this.supported.ui&&d.is.event(e)){var t=0;if(e)switch(e.type){case"timeupdate":case"seeking":t=d.getPercentage(this.currentTime,this.duration),"timeupdate"===e.type&&_.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":_.setProgress.call(this,this.elements.display.buffer,100*this.buffered)}}},updateTimeDisplay:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d.is.element(e)&&d.is.number(t)){var i=d.getHours(this.duration)>0;e.textContent=d.formatTime(t,i,n)}},timeUpdate:function(e){var t=!d.is.element(this.elements.display.duration)&&this.config.invertTime;_.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||_.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui){var e=d.is.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&_.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&_.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),k.updateSeekTooltip.call(this)}}},w=d.getBrowser(),k={updateRangeFill:function(e){if(w.isWebkit){var t=d.is.event(e)?e.target:e;d.is.element(t)&&"range"===t.getAttribute("type")&&t.style.setProperty("--value",t.value/t.max*100+"%")}},getIconUrl:function(){return{url:this.config.iconUrl,absolute:0===this.config.iconUrl.indexOf("http")||w.isIE&&!window.svg4everybody}},createIcon:function(e,t){var n=k.getIconUrl.call(this),i=(n.absolute?"":n.url)+"#"+this.config.iconPrefix,r=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributes(r,d.extend(t,{role:"presentation"}));var a=document.createElementNS("http://www.w3.org/2000/svg","use"),s=i+"-"+e;return"href"in a?a.setAttributeNS("http://www.w3.org/1999/xlink","href",s):a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),r.appendChild(a),r},createLabel:function(e,t){var n=b(e,this.config),i=Object.assign({},t);switch(e){case"pip":n="PIP";break;case"airplay":n="AirPlay"}return"class"in i?i.class+=" "+this.config.classNames.hidden:i.class=this.config.classNames.hidden,d.createElement("span",i,n)},createBadge:function(e){if(d.is.empty(e))return null;var t=d.createElement("span",{class:this.config.classNames.menu.value});return t.appendChild(d.createElement("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=d.createElement("button"),i=Object.assign({},t),r=d.toCamelCase(e),a=!1,s=void 0,o=void 0,l=void 0,u=void 0;switch("type"in i||(i.type="button"),"class"in i?i.class.includes(this.config.classNames.control)&&(i.class+=" "+this.config.classNames.control):i.class=this.config.classNames.control,e){case"play":a=!0,s="play",l="pause",o="play",u="pause";break;case"mute":a=!0,s="mute",l="unmute",o="volume",u="muted";break;case"captions":a=!0,s="enableCaptions",l="disableCaptions",o="captions-off",u="captions-on";break;case"fullscreen":a=!0,s="enterFullscreen",l="exitFullscreen",o="enter-fullscreen",u="exit-fullscreen";break;case"play-large":i.class+=" "+this.config.classNames.control+"--overlaid",r="play",s="play",o="play";break;default:s=r,o=e}return a?(n.appendChild(k.createIcon.call(this,u,{class:"icon--pressed"})),n.appendChild(k.createIcon.call(this,o,{class:"icon--not-pressed"})),n.appendChild(k.createLabel.call(this,l,{class:"label--pressed"})),n.appendChild(k.createLabel.call(this,s,{class:"label--not-pressed"})),i["aria-pressed"]=!1,i["aria-label"]=b(s,this.config)):(n.appendChild(k.createIcon.call(this,o)),n.appendChild(k.createLabel.call(this,s))),d.extend(i,d.getAttributesFromSelector(this.config.selectors.buttons[r],i)),d.setAttributes(n,i),"play"===r?(d.is.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(n)):this.elements.buttons[r]=n,n},createRange:function(e,t){var n=d.createElement("label",{for:t.id,class:this.config.classNames.hidden},b(e,this.config)),i=d.createElement("input",d.extend(d.getAttributesFromSelector(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off"},t));return this.elements.inputs[e]=i,k.updateRangeFill.call(this,i),{label:n,input:i}},createProgress:function(e,t){var n=d.createElement("progress",d.extend(d.getAttributesFromSelector(this.config.selectors.display[e]),{min:0,max:100,value:0},t));if("volume"!==e){n.appendChild(d.createElement("span",null,"0"));var i="";switch(e){case"played":i=b("played",this.config);break;case"buffer":i=b("buffered",this.config)}n.textContent="% "+i.toLowerCase()}return this.elements.display[e]=n,n},createTime:function(e){var t=d.createElement("div",{class:"plyr__time"});return t.appendChild(d.createElement("span",{class:this.config.classNames.hidden},b(e,this.config))),t.appendChild(d.createElement("span",d.getAttributesFromSelector(this.config.selectors.display[e]),"00:00")),this.elements.display[e]=t,t},createMenuItem:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=d.createElement("li"),o=d.createElement("label",{class:this.config.classNames.control}),l=d.createElement("input",d.extend(d.getAttributesFromSelector(this.config.selectors.inputs[n]),{type:"radio",name:"plyr-"+n,value:e,checked:a,class:"plyr__sr-only"})),u=d.createElement("span",{"aria-hidden":!0});o.appendChild(l),o.appendChild(u),o.insertAdjacentHTML("beforeend",i),d.is.element(r)&&o.appendChild(r),s.appendChild(o),t.appendChild(s)},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&d.is.element(this.elements.inputs.seek)&&d.is.element(this.elements.display.seekTooltip)&&0!==this.duration){var n=0,i=this.elements.inputs.seek.getBoundingClientRect(),r=this.config.classNames.tooltip+"--visible",a=function(e){d.toggleClass(t.elements.display.seekTooltip,r,e)};if(this.touch)a(!1);else{if(d.is.event(e))n=100/i.width*(e.pageX-i.left);else{if(!d.hasClass(this.elements.display.seekTooltip,r))return;n=parseFloat(this.elements.display.seekTooltip.style.left,10)}n<0?n=0:n>100&&(n=100),_.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*n),this.elements.display.seekTooltip.style.left=n+"%",d.is.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)}}},toggleTab:function(e,t){var n=this.elements.settings.tabs[e],i=this.elements.settings.panes[e];d.toggleHidden(n,!t),d.toggleHidden(i,!t)},setQualityMenu:function(e){var t=this;if(d.is.element(this.elements.settings.panes.quality)){var n=this.elements.settings.panes.quality.querySelector("ul");d.is.array(e)?this.options.quality=e.filter(function(e){return t.config.quality.options.includes(e)}):this.options.quality=this.config.quality.options;var i=!d.is.empty(this.options.quality)&&this.isYouTube;k.toggleTab.call(this,"quality",i),i&&(d.emptyElement(n),this.options.quality.forEach(function(e){return k.createMenuItem.call(t,e,n,"quality",k.getLabel.call(t,"quality",e),function(e){var n="";switch(e){case"hd2160":n="4K";break;case"hd1440":n="WQHD";break;case"hd1080":case"hd720":n="HD"}return n.length?k.createBadge.call(t,n):null}(e))}),k.updateSetting.call(this,"quality",n))}},getLabel:function(e,t){switch(e){case"speed":return 1===t?"Normal":t+"&times;";case"quality":switch(t){case"hd2160":return"2160P";case"hd1440":return"1440P";case"hd1080":return"1080P";case"hd720":return"720P";case"large":return"480P";case"medium":return"360P";case"small":return"240P";case"tiny":return"Tiny";case"default":return"Auto";default:return t}case"captions":return k.getLanguage.call(this);default:return null}},updateSetting:function(e,t){var n=this.elements.settings.panes[e],i=null,r=t;switch(e){case"captions":i=this.captions.active?this.captions.language:b("disabled",this.config);break;default:if(i=this[e],d.is.empty(i)&&(i=this.config[e].default),!this.options[e].includes(i))return void this.debug.warn("Unsupported value of '"+i+"' for "+e);if(!this.config[e].options.includes(i))return void this.debug.warn("Disabled value of '"+i+"' for "+e)}d.is.element(r)||(r=n&&n.querySelector("ul")),d.is.empty(i)||(this.elements.settings.tabs[e].querySelector("."+this.config.classNames.menu.value).innerHTML=k.getLabel.call(this,e,i));var a=r&&r.querySelector('input[value="'+i+'"]');d.is.element(a)&&(a.checked=!0)},getLanguage:function(){if(!this.supported.ui)return null;if(p.textTracks&&y.getTracks.call(this).length&&this.captions.active){var e=y.getCurrentTrack.call(this);if(d.is.track(e))return e.label}return b("disabled",this.config)},setCaptionsMenu:function(){var e=this,t=this.elements.settings.panes.captions.querySelector("ul"),n=y.getTracks.call(this).length;if(k.toggleTab.call(this,"captions",n),d.emptyElement(t),n){var i=y.getTracks.call(this).map(function(e){return{language:e.language,label:d.is.empty(e.label)?e.language.toUpperCase():e.label}});i.unshift({language:"",label:b("disabled",this.config)}),i.forEach(function(n){k.createMenuItem.call(e,n.language,t,"language",n.label||n.language,k.createBadge.call(e,n.language.toUpperCase()),n.language.toLowerCase()===e.captions.language.toLowerCase())}),k.updateSetting.call(this,"captions",t)}},setSpeedMenu:function(e){var t=this;if(this.config.controls.includes("settings")&&this.config.settings.includes("speed")&&d.is.element(this.elements.settings.panes.speed)){d.is.array(e)?this.options.speed=e:this.options.speed=[.5,.75,1,1.25,1.5,1.75,2],this.options.speed=this.options.speed.filter(function(e){return t.config.speed.options.includes(e)});var n=!d.is.empty(this.options.speed);if(k.toggleTab.call(this,"speed",n),k.checkMenu.call(this),n){var i=this.elements.settings.panes.speed.querySelector("ul");d.toggleHidden(this.elements.settings.tabs.speed,!1),d.toggleHidden(this.elements.settings.panes.speed,!1),d.emptyElement(i),this.options.speed.forEach(function(e){return k.createMenuItem.call(t,e,i,"speed",k.getLabel.call(t,"speed",e))}),k.updateSetting.call(this,"speed",i)}}},checkMenu:function(){var e=null!==this.elements.settings.tabs.speed.getAttribute("hidden"),t=null!==this.elements.settings.tabs.captions.getAttribute("hidden");d.toggleHidden(this.elements.settings.menu,e&&t)},toggleMenu:function(e){var t=this.elements.settings.form,n=this.elements.buttons.settings;if(d.is.element(t)&&d.is.element(n)){var i=d.is.boolean(e)?e:d.is.element(t)&&"true"===t.getAttribute("aria-hidden");if(d.is.event(e)){var r=d.is.element(t)&&t.contains(e.target),a=e.target===this.elements.buttons.settings;if(r||!r&&!a&&i)return;a&&e.stopPropagation()}d.is.element(n)&&n.setAttribute("aria-expanded",i),d.is.element(t)&&(t.setAttribute("aria-hidden",!i),d.toggleClass(this.elements.container,this.config.classNames.menu.open,i),i?t.removeAttribute("tabindex"):t.setAttribute("tabindex",-1))}},getTabSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.setAttribute("aria-hidden",!1),Array.from(t.querySelectorAll("input[name]")).forEach(function(e){var t=e.getAttribute("name");e.setAttribute("name",t+"-clone")}),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return d.removeElement(t),{width:n,height:i}},showTab:function(e){var t=this.elements.settings.menu,n=e.target,i="false"===n.getAttribute("aria-expanded"),r=document.getElementById(n.getAttribute("aria-controls"));if(d.is.element(r)&&"tabpanel"===r.getAttribute("role")){var a=t.querySelector('[role="tabpanel"][aria-hidden="false"]'),s=a.parentNode;if(Array.from(t.querySelectorAll('[aria-controls="'+a.getAttribute("id")+'"]')).forEach(function(e){e.setAttribute("aria-expanded",!1)}),p.transitions&&!p.reducedMotion){s.style.width=a.scrollWidth+"px",s.style.height=a.scrollHeight+"px";var o=k.getTabSize.call(this,r);d.on(s,d.transitionEndEvent,function e(t){t.target===s&&["width","height"].includes(t.propertyName)&&(s.style.width="",s.style.height="",d.off(s,d.transitionEndEvent,e))}),s.style.width=o.width+"px",s.style.height=o.height+"px"}a.setAttribute("aria-hidden",!0),a.setAttribute("tabindex",-1),r.setAttribute("aria-hidden",!i),n.setAttribute("aria-expanded",i),r.removeAttribute("tabindex"),r.querySelectorAll("button:not(:disabled), input:not(:disabled), [tabindex]")[0].focus()}},create:function(e){var t=this;if(d.is.empty(this.config.controls))return null;var n=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&n.appendChild(k.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&n.appendChild(k.createButton.call(this,"rewind")),this.config.controls.includes("play")&&n.appendChild(k.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&n.appendChild(k.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var i=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.progress)),r=k.createRange.call(this,"seek",{id:"plyr-seek-"+e.id});if(i.appendChild(r.label),i.appendChild(r.input),i.appendChild(k.createProgress.call(this,"buffer")),this.config.tooltips.seek){var a=d.createElement("span",{role:"tooltip",class:this.config.classNames.tooltip},"00:00");i.appendChild(a),this.elements.display.seekTooltip=a}this.elements.progress=i,n.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&n.appendChild(k.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&n.appendChild(k.createTime.call(this,"duration")),this.config.controls.includes("mute")&&n.appendChild(k.createButton.call(this,"mute")),this.config.controls.includes("volume")){var s=d.createElement("div",{class:"plyr__volume"}),o={max:1,step:.05,value:this.config.volume},l=k.createRange.call(this,"volume",d.extend(o,{id:"plyr-volume-"+e.id}));s.appendChild(l.label),s.appendChild(l.input),this.elements.volume=s,n.appendChild(s)}if(this.config.controls.includes("captions")&&n.appendChild(k.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!d.is.empty(this.config.settings)){var u=d.createElement("div",{class:"plyr__menu"});u.appendChild(k.createButton.call(this,"settings",{id:"plyr-settings-toggle-"+e.id,"aria-haspopup":!0,"aria-controls":"plyr-settings-"+e.id,"aria-expanded":!1}));var c=d.createElement("form",{class:"plyr__menu__container",id:"plyr-settings-"+e.id,"aria-hidden":!0,"aria-labelled-by":"plyr-settings-toggle-"+e.id,role:"tablist",tabindex:-1}),f=d.createElement("div"),h=d.createElement("div",{id:"plyr-settings-"+e.id+"-home","aria-hidden":!1,"aria-labelled-by":"plyr-settings-toggle-"+e.id,role:"tabpanel"}),g=d.createElement("ul",{role:"tablist"});this.config.settings.forEach(function(n){var i=d.createElement("li",{role:"tab",hidden:""}),r=d.createElement("button",d.extend(d.getAttributesFromSelector(t.config.selectors.buttons.settings),{type:"button",class:t.config.classNames.control+" "+t.config.classNames.control+"--forward",id:"plyr-settings-"+e.id+"-"+n+"-tab","aria-haspopup":!0,"aria-controls":"plyr-settings-"+e.id+"-"+n,"aria-expanded":!1}),b(n,t.config)),a=d.createElement("span",{class:t.config.classNames.menu.value});a.innerHTML=e[n],r.appendChild(a),i.appendChild(r),g.appendChild(i),t.elements.settings.tabs[n]=i}),h.appendChild(g),f.appendChild(h),this.config.settings.forEach(function(n){var i=d.createElement("div",{id:"plyr-settings-"+e.id+"-"+n,"aria-hidden":!0,"aria-labelled-by":"plyr-settings-"+e.id+"-"+n+"-tab",role:"tabpanel",tabindex:-1,hidden:""}),r=d.createElement("button",{type:"button",class:t.config.classNames.control+" "+t.config.classNames.control+"--back","aria-haspopup":!0,"aria-controls":"plyr-settings-"+e.id+"-home","aria-expanded":!1},b(n,t.config));i.appendChild(r);var a=d.createElement("ul");i.appendChild(a),f.appendChild(i),t.elements.settings.panes[n]=i}),c.appendChild(f),u.appendChild(c),n.appendChild(u),this.elements.settings.form=c,this.elements.settings.menu=u}return this.config.controls.includes("pip")&&p.pip&&n.appendChild(k.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&p.airplay&&n.appendChild(k.createButton.call(this,"airplay")),this.config.controls.includes("fullscreen")&&n.appendChild(k.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(k.createButton.call(this,"play-large")),this.elements.controls=n,k.setSpeedMenu.call(this),n},inject:function(){var e=this;if(this.config.loadSprite){var t=k.getIconUrl.call(this);t.absolute&&d.loadSprite(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null,n=d.is.string(this.config.controls)||d.is.element(this.config.controls)?this.config.controls:d.is.function(this.config.controls)?this.config.controls({id:this.id,seektime:this.config.seekTime,title:this.config.title}):k.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:k.getLanguage.call(this)});var i=void 0;if(d.is.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),d.is.element(i)||(i=this.elements.container),d.is.element(n)?i.appendChild(n):i.insertAdjacentHTML("beforeend",n),d.is.element(this.elements.controls)||d.findElements.call(this),window.navigator.userAgent.includes("Edge")&&d.repaint(i),this.config.tooltips.controls){var r=d.getElements.call(this,[this.config.selectors.controls.wrapper," ",this.config.selectors.labels," .",this.config.classNames.hidden].join(""));Array.from(r).forEach(function(t){d.toggleClass(t,e.config.classNames.hidden,!1),d.toggleClass(t,e.config.classNames.tooltip,!0),t.setAttribute("role","tooltip")})}}},x=d.getBrowser(),E=function(){function e(t){l(this,e),this.player=t,this.lastKey=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}return u(e,[{key:"handleKey",value:function(e){var t=this,n=e.keyCode?e.keyCode:e.which,i="keydown"===e.type,r=i&&n===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&d.is.number(n))if(i){var a=d.getFocusElement();if(d.is.element(a)&&d.matches(a,this.player.config.selectors.editable))return;switch([48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67,73,76,79].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r||(t.player.currentTime=t.player.duration/10*(n-48));break;case 32:case 75:r||this.player.togglePlay();break;case 38:this.player.increaseVolume(.1);break;case 40:this.player.decreaseVolume(.1);break;case 77:r||(this.player.muted=!this.player.muted);break;case 39:this.player.forward();break;case 37:this.player.rewind();break;case 70:this.player.fullscreen.toggle();break;case 67:r||this.player.toggleCaptions();break;case 76:this.player.loop=!this.player.loop}!this.player.fullscreen.enabled&&this.player.fullscreen.active&&27===n&&this.player.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}},{key:"toggleMenu",value:function(e){k.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){this.player.touch=!0,d.toggleClass(this.player.elements.container,this.player.config.classNames.isTouch,!0),d.off(document.body,"touchstart",this.firstTouch)}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.player.config.keyboard.global&&d.toggleListener(window,"keydown keyup",this.handleKey,e,!1),d.toggleListener(document.body,"click",this.toggleMenu,e),d.on(document.body,"touchstart",this.firstTouch)}},{key:"container",value:function(){var e=this;!this.player.config.keyboard.global&&this.player.config.keyboard.focused&&d.on(this.player.elements.container,"keydown keyup",this.handleKey,!1),d.on(this.player.elements.container,"focusout",function(t){d.toggleClass(t.target,e.player.config.classNames.tabFocus,!1)}),d.on(this.player.elements.container,"keydown",function(t){9===t.keyCode&&setTimeout(function(){d.toggleClass(d.getFocusElement(),e.player.config.classNames.tabFocus,!0)},0)}),this.player.config.hideControls&&d.on(this.player.elements.container,"mouseenter mouseleave mousemove touchstart touchend touchmove enterfullscreen exitfullscreen",function(t){e.player.toggleControls(t)})}},{key:"media",value:function(){var e=this;if(d.on(this.player.media,"timeupdate seeking",function(t){return _.timeUpdate.call(e.player,t)}),d.on(this.player.media,"durationchange loadedmetadata",function(t){return _.durationUpdate.call(e.player,t)}),d.on(this.player.media,"loadeddata",function(){d.toggleHidden(e.player.elements.volume,!e.player.hasAudio),d.toggleHidden(e.player.elements.buttons.mute,!e.player.hasAudio)}),d.on(this.player.media,"ended",function(){e.player.isHTML5&&e.player.isVideo&&e.player.config.showPosterOnEnd&&(e.player.restart(),e.player.media.load())}),d.on(this.player.media,"progress playing",function(t){return _.updateProgress.call(e.player,t)}),d.on(this.player.media,"volumechange",function(t){return _.updateVolume.call(e.player,t)}),d.on(this.player.media,"playing play pause ended emptied",function(t){return _.checkPlaying.call(e.player,t)}),d.on(this.player.media,"waiting canplay seeked playing",function(t){return _.checkLoading.call(e.player,t)}),d.on(this.player.media,"playing",function(){e.player.ads.enabled&&!e.player.ads.initialized&&e.player.ads.managerPromise.then(function(){return e.player.ads.play()}).catch(function(){return e.player.play()})}),this.player.supported.ui&&this.player.config.clickToPlay&&!this.player.isAudio){var t=d.getElement.call(this.player,"."+this.player.config.classNames.video);if(!d.is.element(t))return;d.on(t,"click",function(){e.player.config.hideControls&&e.player.touch&&!e.player.paused||(e.player.paused?e.player.play():e.player.ended?(e.player.restart(),e.player.play()):e.player.pause())})}this.player.supported.ui&&this.player.config.disableContextMenu&&d.on(this.player.media,"contextmenu",function(e){e.preventDefault()},!1),d.on(this.player.media,"volumechange",function(){e.player.storage.set({volume:e.player.volume,muted:e.player.muted})}),d.on(this.player.media,"ratechange",function(){k.updateSetting.call(e.player,"speed"),e.player.storage.set({speed:e.player.speed})}),d.on(this.player.media,"qualitychange",function(){k.updateSetting.call(e.player,"quality"),e.player.storage.set({quality:e.player.quality})}),d.on(this.player.media,"languagechange",function(){k.updateSetting.call(e.player,"captions"),e.player.storage.set({language:e.player.language})}),d.on(this.player.media,"captionsenabled captionsdisabled",function(){k.updateSetting.call(e.player,"captions"),e.player.storage.set({captions:e.player.captions.active})}),d.on(this.player.media,this.player.config.events.concat(["keyup","keydown"]).join(" "),function(t){var n={};"error"===t.type&&(n=e.player.media.error),d.dispatchEvent.call(e.player,e.player.elements.container,t.type,!0,n)})}},{key:"controls",value:function(){var e=this,t=x.isIE?"change":"input",n=function(t,n,i){var r=e.player.config.listeners[i],a=!0;d.is.function(r)&&(a=r.call(e.player,t)),a&&d.is.function(n)&&n.call(e.player,t)},i=function(t,i,r,a){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e.player.config.listeners[a],l=d.is.function(o);d.on(t,i,function(e){return n(e,r,a)},s&&!l)};i(this.player.elements.buttons.play,"click",this.player.togglePlay,"play"),i(this.player.elements.buttons.restart,"click",this.player.restart,"restart"),i(this.player.elements.buttons.rewind,"click",this.player.rewind,"rewind"),i(this.player.elements.buttons.fastForward,"click",this.player.forward,"fastForward"),i(this.player.elements.buttons.mute,"click",function(){e.player.muted=!e.player.muted},"mute"),i(this.player.elements.buttons.captions,"click",this.player.toggleCaptions),i(this.player.elements.buttons.fullscreen,"click",function(){e.player.fullscreen.toggle()},"fullscreen"),i(this.player.elements.buttons.pip,"click",function(){e.player.pip="toggle"},"pip"),i(this.player.elements.buttons.airplay,"click",this.player.airplay,"airplay"),i(this.player.elements.buttons.settings,"click",function(t){k.toggleMenu.call(e.player,t)}),i(this.player.elements.settings.form,"click",function(t){t.stopPropagation(),d.matches(t.target,e.player.config.selectors.inputs.language)?n(t,function(){e.player.language=t.target.value},"language"):d.matches(t.target,e.player.config.selectors.inputs.quality)?n(t,function(){e.player.quality=t.target.value},"quality"):d.matches(t.target,e.player.config.selectors.inputs.speed)?n(t,function(){e.player.speed=parseFloat(t.target.value)},"speed"):k.showTab.call(e.player,t)}),i(this.player.elements.inputs.seek,t,function(t){e.player.currentTime=t.target.value/t.target.max*e.player.duration},"seek"),this.player.config.toggleInvert&&!d.is.element(this.player.elements.display.duration)&&i(this.player.elements.display.currentTime,"click",function(){0!==e.player.currentTime&&(e.player.config.invertTime=!e.player.config.invertTime,_.timeUpdate.call(e.player))}),i(this.player.elements.inputs.volume,t,function(t){e.player.volume=t.target.value},"volume"),x.isWebkit&&i(d.getElements.call(this.player,'input[type="range"]'),"input",function(t){k.updateRangeFill.call(e.player,t.target)}),i(this.player.elements.progress,"mouseenter mouseleave mousemove",function(t){return k.updateSeekTooltip.call(e.player,t)}),this.player.config.hideControls&&(i(this.player.elements.controls,"mouseenter mouseleave",function(t){e.player.elements.controls.hover=!e.player.touch&&"mouseenter"===t.type}),i(this.player.elements.controls,"mousedown mouseup touchstart touchend touchcancel",function(t){e.player.elements.controls.pressed=["mousedown","touchstart"].includes(t.type)}),i(this.player.elements.controls,"focusin focusout",function(t){e.player.toggleControls(t)})),i(this.player.elements.inputs.volume,"wheel",function(t){var n=t.webkitDirectionInvertedFromDevice,i=0;(t.deltaY<0||t.deltaX>0)&&(n?(e.player.decreaseVolume(.02),i=-1):(e.player.increaseVolume(.02),i=1)),(t.deltaY>0||t.deltaX<0)&&(n?(e.player.increaseVolume(.02),i=1):(e.player.decreaseVolume(.02),i=-1)),(1===i&&e.player.media.volume<1||-1===i&&e.player.media.volume>0)&&t.preventDefault()},"volume",!1)}},{key:"clear",value:function(){this.global(!1)}}]),e}(),T=function(){function e(t){l(this,e),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}return u(e,[{key:"get",value:function(t){if(!e.supported)return null;var n=window.localStorage.getItem(this.key);if(d.is.empty(n))return null;var i=JSON.parse(n);return d.is.string(t)&&t.length?i[t]:i}},{key:"set",value:function(t){if(e.supported&&this.enabled&&d.is.object(t)){var n=this.get();d.is.empty(n)&&(n={}),d.extend(n,t),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),e}(),A=function(){function e(t){var n=this;l(this,e),this.player=t,this.publisherId=t.config.ads.publisherId,this.enabled=t.isHTML5&&t.isVideo&&t.config.ads.enabled&&d.is.string(this.publisherId)&&this.publisherId.length,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){n.on("loaded",e),n.on("error",t)}),this.load()}return u(e,[{key:"load",value:function(){var e=this;this.enabled&&(d.is.object(window.google)&&d.is.object(window.google.ima)?this.ready():d.loadScript(this.player.config.urls.googleIMA.api).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=d.createElement("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var e=this,t=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e.onAdsManagerLoaded(t)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)},!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.tagUrl,n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n.forceNonLinearFullSlot=!1,this.loader.requestAds(n)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var t=d.formatTime(Math.max(e.manager.getRemainingTime(),0)),n=b("advertisement",e.player.config)+" - "+t;e.elements.container.setAttribute("data-badge-text",n)},100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this,n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=e.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),d.is.empty(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<t.player.duration){var n=t.player.elements.progress;if(d.is.element(n)){var i=100/t.player.duration*e,r=d.createElement("span",{class:t.player.config.classNames.cues});r.style.left=i.toString()+"%",n.appendChild(r)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return t.onAdEvent(e)})}),this.trigger("loaded")}},{key:"onAdEvent",value:function(e){var t=this,n=this.player.elements.container,i=e.getAd(),r=function(e){var n="ads"+e.replace(/_/g,"").toLowerCase();d.dispatchEvent.call(t.player,t.player.media,n)};switch(e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),r(e.type),this.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:r(e.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:r(e.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:r(e.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:r(e.type)}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e=this,t=this.player.elements.container,n=void 0;this.player.on("ended",function(){e.loader.contentComplete()}),this.player.on("seeking",function(){return n=e.player.currentTime}),this.player.on("seeked",function(){var t=e.player.currentTime;d.is.empty(e.cuePoints)||e.cuePoints.forEach(function(i,r){n<i&&i<t&&(e.manager.discardAdBreak(),e.cuePoints.splice(r,1))})}),window.addEventListener("resize",function(){e.manager&&e.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0
}catch(t){e.onAdError(t)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then(function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise(function(t){e.on("loaded",t),e.player.debug.log(e.manager)}),e.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a=this.events[e];d.is.array(a)&&a.forEach(function(e){d.is.function(e)&&e.apply(t,i)})}},{key:"on",value:function(e,t){return d.is.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: "+t),this.safetyTimer=setTimeout(function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){d.is.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+e),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"tagUrl",get:function(){var e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"https://go.aniview.com/api/adserver6/vast/?"+d.buildUrlParams(e)}}]),e}(),C={setup:function(){var e=this;d.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),C.setAspectRatio.call(this),d.is.object(window.YT)&&d.is.function(window.YT.Player)?C.ready.call(this):(d.loadScript(this.config.urls.youtube.api).catch(function(t){e.debug.warn("YouTube API failed to load",t)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){C.ready.call(e)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(e){e()})})},getTitle:function(e){var t=this;if(d.is.function(this.embed.getVideoData)){var n=this.embed.getVideoData().title;if(d.is.empty(n))return this.config.title=n,void _.setTitle.call(this)}var i=this.config.keys.google;if(d.is.string(i)&&!d.is.empty(i)){var r="https://www.googleapis.com/youtube/v3/videos?id="+e+"&key="+i+"&fields=items(snippet(title))&part=snippet";d.fetch(r).then(function(e){d.is.object(e)&&(t.config.title=e.items[0].snippet.title,_.setTitle.call(t))}).catch(function(){})}},setAspectRatio:function(){var e=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom=100/e[0]*e[1]+"%"},ready:function(){var e=this,t=e.media.getAttribute("id");if(d.is.empty(t)||!t.startsWith("youtube-")){var n=e.media.getAttribute("src");d.is.empty(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));var i=d.parseYouTubeId(n),r=d.generateId(e.provider),a=d.createElement("div",{id:r});e.media=d.replaceElement(a,e.media),e.embed=new window.YT.Player(r,{videoId:i,playerVars:{autoplay:e.config.autoplay?1:0,controls:e.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language},events:{onError:function(t){if(!d.is.object(e.media.error)){var n={code:t.data};switch(t.data){case 2:n.message="The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 5:n.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:n.message="The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.";break;case 101:case 150:n.message="The owner of the requested video does not allow it to be played in embedded players.";break;default:n.message="An unknown error occured"}e.media.error=n,d.dispatchEvent.call(e,e.media,"error")}},onPlaybackQualityChange:function(t){var n=t.target;e.media.quality=n.getPlaybackQuality(),d.dispatchEvent.call(e,e.media,"qualitychange")},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),d.dispatchEvent.call(e,e.media,"ratechange")},onReady:function(t){var n=t.target;C.getTitle.call(e,i),e.media.play=function(){n.playVideo()},e.media.pause=function(){n.pauseVideo()},e.media.stop=function(){n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(n.getCurrentTime())},set:function(t){e.media.seeking=!0,d.dispatchEvent.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return n.getPlaybackRate()},set:function(e){n.setPlaybackRate(e)}}),Object.defineProperty(e.media,"quality",{get:function(){return n.getPlaybackQuality()},set:function(t){d.dispatchEvent.call(e,e.media,"qualityrequested",!1,{quality:t}),n.setPlaybackQuality(t)}});var r=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return r},set:function(t){r=t,n.setVolume(100*r),d.dispatchEvent.call(e,e.media,"volumechange")}});var a=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return a},set:function(t){var i=d.is.boolean(t)?t:a;a=i,n[i?"mute":"unMute"](),d.dispatchEvent.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return n.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var s=n.getAvailablePlaybackRates();k.setSpeedMenu.call(e,s),e.supported.ui&&e.media.setAttribute("tabindex",-1),d.dispatchEvent.call(e,e.media,"timeupdate"),d.dispatchEvent.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(function(){e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&d.dispatchEvent.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),d.dispatchEvent.call(e,e.media,"canplaythrough"))},200),setTimeout(function(){return _.build.call(e)},50)},onStateChange:function(t){var n=t.target;switch(clearInterval(e.timers.playing),t.data){case-1:d.dispatchEvent.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),d.dispatchEvent.call(e,e.media,"progress");break;case 0:e.media.paused=!0,e.media.loop?(n.stopVideo(),n.playVideo()):d.dispatchEvent.call(e,e.media,"ended");break;case 1:e.media.seeking&&d.dispatchEvent.call(e,e.media,"seeked"),e.media.seeking=!1,e.media.paused&&d.dispatchEvent.call(e,e.media,"play"),e.media.paused=!1,d.dispatchEvent.call(e,e.media,"playing"),e.timers.playing=setInterval(function(){d.dispatchEvent.call(e,e.media,"timeupdate")},50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),d.dispatchEvent.call(e,e.media,"durationchange")),k.setQualityMenu.call(e,n.getAvailableQualityLevels());break;case 2:e.media.paused=!0,d.dispatchEvent.call(e,e.media,"pause")}d.dispatchEvent.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},S={setup:function(){var e=this;d.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),S.setAspectRatio.call(this),d.is.object(window.Vimeo)?S.ready.call(this):d.loadScript(this.config.urls.vimeo.api).then(function(){S.ready.call(e)}).catch(function(t){e.debug.warn("Vimeo API failed to load",t)})},setAspectRatio:function(e){var t=d.is.string(e)?e.split(":"):this.config.ratio.split(":"),n=100/t[0]*t[1],i=(240-n)/4.8;this.elements.wrapper.style.paddingBottom=n+"%",this.media.style.transform="translateY(-"+i+"%)"},ready:function(){var e=this,t=this,n={loop:t.config.loop.active,autoplay:t.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media"},i=d.buildUrlParams(n),r=t.media.getAttribute("src");d.is.empty(r)&&(r=t.media.getAttribute(this.config.attributes.embed.id));var a=d.parseVimeoId(r),s=d.createElement("iframe"),o="https://player.vimeo.com/video/"+a+"?"+i;s.setAttribute("src",o),s.setAttribute("allowfullscreen",""),s.setAttribute("allowtransparency",""),s.setAttribute("allow","autoplay");var l=d.createElement("div");l.appendChild(s),t.media=d.replaceElement(l,t.media),t.embed=new window.Vimeo.Player(s),t.media.paused=!0,t.media.currentTime=0,t.media.play=function(){t.embed.play().then(function(){t.media.paused=!1})},t.media.pause=function(){t.embed.pause().then(function(){t.media.paused=!0})},t.media.stop=function(){t.pause(),t.currentTime=0};var u=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return u},set:function(e){var n=t.media.paused;t.media.seeking=!0,d.dispatchEvent.call(t,t.media,"seeking"),t.embed.setCurrentTime(e),n&&t.pause()}});var c=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return c},set:function(e){t.embed.setPlaybackRate(e).then(function(){c=e,d.dispatchEvent.call(t,t.media,"ratechange")}).catch(function(e){"Error"===e.name&&k.setSpeedMenu.call(t,[])})}});var f=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return f},set:function(e){t.embed.setVolume(e).then(function(){f=e,d.dispatchEvent.call(t,t.media,"volumechange")})}});var p=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return p},set:function(e){var n=!!d.is.boolean(e)&&e;t.embed.setVolume(n?0:t.config.volume).then(function(){p=n,d.dispatchEvent.call(t,t.media,"volumechange")})}});var h=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return h},set:function(e){var n=d.is.boolean(e)?e:t.config.loop.active;t.embed.setLoop(n).then(function(){h=n})}});var g=void 0;t.embed.getVideoUrl().then(function(e){g=e}).catch(function(t){e.debug.warn(t)}),Object.defineProperty(t.media,"currentSrc",{get:function(){return g}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(function(t){var n=d.getAspectRatio(t[0],t[1]);S.setAspectRatio.call(e,n)}),t.embed.setAutopause(t.config.autopause).then(function(e){t.config.autopause=e}),t.embed.getVideoTitle().then(function(n){t.config.title=n,_.setTitle.call(e)}),t.embed.getCurrentTime().then(function(e){u=e,d.dispatchEvent.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(function(e){t.media.duration=e,d.dispatchEvent.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(function(e){t.media.textTracks=e,y.setup.call(t)}),t.embed.on("cuechange",function(e){var n=null;e.cues.length&&(n=d.stripHTML(e.cues[0].text)),y.setText.call(t,n)}),t.embed.on("loaded",function(){d.is.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("play",function(){t.media.paused&&d.dispatchEvent.call(t,t.media,"play"),t.media.paused=!1,d.dispatchEvent.call(t,t.media,"playing")}),t.embed.on("pause",function(){t.media.paused=!0,d.dispatchEvent.call(t,t.media,"pause")}),t.embed.on("timeupdate",function(e){t.media.seeking=!1,u=e.seconds,d.dispatchEvent.call(t,t.media,"timeupdate")}),t.embed.on("progress",function(e){t.media.buffered=e.percent,d.dispatchEvent.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&d.dispatchEvent.call(t,t.media,"canplaythrough")}),t.embed.on("seeked",function(){t.media.seeking=!1,d.dispatchEvent.call(t,t.media,"seeked"),d.dispatchEvent.call(t,t.media,"play")}),t.embed.on("ended",function(){t.media.paused=!0,d.dispatchEvent.call(t,t.media,"ended")}),t.embed.on("error",function(e){t.media.error=e,d.dispatchEvent.call(t,t.media,"error")}),setTimeout(function(){return _.build.call(t)},0)}},j=d.getBrowser(),N={setup:function(){if(this.media)if(d.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),d.toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&d.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.supported.ui&&(d.toggleClass(this.elements.container,this.config.classNames.pip.supported,p.pip&&this.isHTML5&&this.isVideo),d.toggleClass(this.elements.container,this.config.classNames.airplay.supported,p.airplay&&this.isHTML5),d.toggleClass(this.elements.container,this.config.classNames.stopped,this.config.autoplay),d.toggleClass(this.elements.container,this.config.classNames.isIos,j.isIos),d.toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch)),this.isVideo&&(this.elements.wrapper=d.createElement("div",{class:this.config.classNames.video}),d.wrap(this.media,this.elements.wrapper)),this.isEmbed)switch(this.provider){case"youtube":C.setup.call(this);break;case"vimeo":S.setup.call(this)}else this.isHTML5&&_.setTitle.call(this);else this.debug.warn("No media element found!")},cancelRequests:function(){this.isHTML5&&(d.removeElement(this.media.querySelectorAll("source")),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},P={insertElements:function(e,t){var n=this;d.is.string(t)?d.insertElement(e,this.media,{src:t}):d.is.array(t)&&t.forEach(function(t){d.insertElement(e,n.media,t)})},change:function(e){var t=this;d.is.object(e)&&"sources"in e&&e.sources.length?(N.cancelRequests.call(this),this.destroy.call(this,function(){switch(d.removeElement(t.media),t.media=null,d.is.element(t.elements.container)&&t.elements.container.removeAttribute("class"),t.type=e.type,t.provider=d.is.empty(e.sources[0].provider)?n.html5:e.sources[0].provider,t.supported=p.check(t.type,t.provider,t.config.inline),t.provider+":"+t.type){case"html5:video":t.media=d.createElement("video");break;case"html5:audio":t.media=d.createElement("audio");break;case"youtube:video":case"vimeo:video":t.media=d.createElement("div",{src:e.sources[0].src})}t.elements.container.appendChild(t.media),d.is.boolean(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),"poster"in e&&t.media.setAttribute("poster",e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.inline&&t.media.setAttribute("playsinline","")),_.addStyleHook.call(t),t.isHTML5&&P.insertElements.call(t,"source",e.sources),t.config.title=e.title,N.setup.call(t),t.isHTML5&&("tracks"in e&&P.insertElements.call(t,"track",e.tracks),t.media.load()),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&_.build.call(t),t.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};return function(){function e(t,a){var s=this;if(l(this,e),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=p.touch,this.media=t,d.is.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||d.is.nodeList(this.media)||d.is.array(this.media))&&(this.media=this.media[0]),this.config=d.extend({},r,a,function(){try{return JSON.parse(s.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,buttons:{},display:{},progress:{},inputs:{},settings:{menu:null,panes:{},tabs:{}},captions:null},this.captions={active:null,currentTrack:null},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new g(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",p),!d.is.nullOrUndefined(this.media)&&d.is.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(p.check().api){setTimeout(function(){var e=s.media.cloneNode(!0);e.getAttribute("autoplay")&&e.pause(),s.elements.original=e},0);var o=this.media.tagName.toLowerCase(),u=null,c=null,f=null;switch(o){case"div":if(u=this.media.querySelector("iframe"),d.is.element(u)){if(c=u.getAttribute("src"),this.provider=d.getProviderByUrl(c),this.elements.container=this.media,this.media=u,this.elements.container.className="",f=d.getUrlParams(c),!d.is.empty(f)){var h=["1","true"];h.includes(f.autoplay)&&(this.config.autoplay=!0),h.includes(f.playsinline)&&(this.config.inline=!0),h.includes(f.loop)&&(this.config.loop.active=!0)}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(d.is.empty(this.provider)||!Object.keys(n).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=i.video;break;case"video":case"audio":this.type=o,this.provider=n.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),this.media.hasAttribute("playsinline")&&(this.config.inline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=p.check(this.type,this.provider,this.config.inline),this.supported.api?(this.listeners=new E(this),this.storage=new T(this),this.media.plyr=this,d.is.element(this.elements.container)||(this.elements.container=d.createElement("div"),d.wrap(this.media,this.elements.container)),this.elements.container.setAttribute("tabindex",0),_.addStyleHook.call(this),N.setup.call(this),this.config.debug&&d.on(this.elements.container,this.config.events.join(" "),function(e){s.debug.log("event: "+e.type)}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&_.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new v(this),this.ads=new A(this),this.config.autoplay&&this.play()):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return u(e,[{key:"play",value:function(){return d.is.function(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&d.is.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(d.is.boolean(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?this.media.load():d.is.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(d.is.number(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(d.is.number(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(d.is.number(e)?e:1)}},{key:"decreaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t-(d.is.number(e)?e:1)}},{key:"toggleCaptions",value:function(e){if(this.supported.ui&&d.is.element(this.elements.buttons.captions)){var t=d.is.boolean(e)?e:-1===this.elements.container.className.indexOf(this.config.classNames.captions.active);this.captions.active!==t&&(this.captions.active=t,d.toggleState(this.elements.buttons.captions,this.captions.active),d.toggleClass(this.elements.container,this.config.classNames.captions.active,this.captions.active),d.dispatchEvent.call(this,this.media,this.captions.active?"captionsenabled":"captionsdisabled"))}}},{key:"airplay",value:function(){p.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){var t=this;if(d.is.element(this.elements.controls)&&this.supported.ui&&!this.isAudio){var n=0,i=e,r=!1;if(d.is.boolean(e)||(d.is.event(e)?(r="enterfullscreen"===e.type,i=["touchstart","touchmove","mouseenter","mousemove","focusin"].includes(e.type),["touchmove","touchend","mousemove"].includes(e.type)&&(n=2e3),this.touch||"focusin"!==e.type||(n=3e3,d.toggleClass(this.elements.controls,this.config.classNames.noTransition,!0))):i=d.hasClass(this.elements.container,this.config.classNames.hideControls)),clearTimeout(this.timers.controls),i||this.paused||this.loading){if(d.toggleClass(this.elements.container,this.config.classNames.hideControls,!1)&&d.dispatchEvent.call(this,this.media,"controlsshown"),this.paused||this.loading)return;this.touch&&(n=3e3)}i&&!this.playing||(this.timers.controls=setTimeout(function(){d.is.element(t.elements.controls)&&(!t.elements.controls.pressed&&!t.elements.controls.hover||r)&&(d.hasClass(t.elements.container,t.config.classNames.hideControls)||d.toggleClass(t.elements.controls,t.config.classNames.noTransition,!1),d.toggleClass(t.elements.container,t.config.classNames.hideControls,!0)&&(d.dispatchEvent.call(t,t.media,"controlshidden"),t.config.controls.includes("settings")&&!d.is.empty(t.config.settings)&&k.toggleMenu.call(t,!1)))},n))}}},{key:"on",value:function(e,t){d.on(this.elements.container,e,t)}},{key:"off",value:function(e,t){d.off(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",t.embed=null,n?(Object.keys(t.elements).length&&(d.removeElement(t.elements.buttons.play),d.removeElement(t.elements.captions),d.removeElement(t.elements.controls),d.removeElement(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),d.is.function(e)&&e()):(t.listeners.clear(),d.replaceElement(t.elements.original,t.elements.container),d.dispatchEvent.call(t,t.elements.original,"destroyed",!0),d.is.function(e)&&e.call(t.elements.original),t.ready=!1,setTimeout(function(){t.elements=null,t.media=null},200))};switch(this.stop(),this.provider+":"+this.type){case"html5:video":case"html5:audio":clearTimeout(this.timers.loading),_.toggleNativeControls.call(this,!0),i();break;case"youtube:video":clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&d.is.function(this.embed.destroy)&&this.embed.destroy(),i();break;case"vimeo:video":null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200)}}}},{key:"supports",value:function(e){return p.mime.call(this,e)}},{key:"isHTML5",get:function(){return Boolean(this.provider===n.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===n.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===n.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===i.video)}},{key:"isAudio",get:function(){return Boolean(this.type===i.audio)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"playing",get:function(){return Boolean(!this.paused&&!this.ended&&(!this.isHTML5||this.media.readyState>2))}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){var t=0;d.is.number(e)&&(t=e),t<0?t=0:t>this.duration&&(t=this.duration),this.media.currentTime=parseFloat(t.toFixed(4)),this.debug.log("Seeking to "+this.currentTime+" seconds")},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return d.is.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseInt(this.config.duration,10),t=this.media?Number(this.media.duration):0;return Number.isNaN(e)?t:e}},{key:"volume",set:function(e){var t=e;d.is.string(t)&&(t=Number(t)),d.is.number(t)||(t=this.storage.get("volume")),d.is.number(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!d.is.empty(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;d.is.boolean(t)||(t=this.storage.get("muted")),d.is.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=null;d.is.number(e)&&(t=e),d.is.number(t)||(t=this.storage.get("speed")),d.is.number(t)||(t=this.config.speed.selected),t<.1&&(t=.1),t>2&&(t=2),this.config.speed.options.includes(t)?(this.config.speed.selected=t,this.media.playbackRate=t):this.debug.warn("Unsupported speed ("+t+")")},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(e){var t=null;d.is.string(e)&&(t=e),d.is.string(t)||(t=this.storage.get("quality")),d.is.string(t)||(t=this.config.quality.selected),this.options.quality.includes(t)?(this.config.quality.selected=t,this.media.quality=t):this.debug.warn("Unsupported quality option ("+t+")")},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=d.is.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){P.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"poster",set:function(e){this.isHTML5&&this.isVideo?d.is.string(e)&&this.media.setAttribute("poster",e):this.debug.warn("Poster can only be set on HTML5 video")},get:function(){return this.isHTML5&&this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(e){var t=d.is.boolean(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"language",set:function(e){if(d.is.string(e)&&(this.toggleCaptions(!d.is.empty(e)),!d.is.empty(e))){var t=e.toLowerCase();this.language!==t&&(this.captions.language=t,y.setText.call(this,null),y.setLanguage.call(this),d.dispatchEvent.call(this,this.media,"languagechange"))}},get:function(){return this.captions.language}},{key:"pip",set:function(e){var t="inline";if(p.pip){var n=d.is.boolean(e)?e:this.pip===t;this.media.webkitSetPresentationMode(n?"picture-in-picture":t)}},get:function(){return p.pip?this.media.webkitPresentationMode:null}}],[{key:"supported",value:function(e,t,n){return p.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return d.loadSprite(e,t)}}]),e}()});